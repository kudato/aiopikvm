{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"aiopikvm","text":"<p>Async Python client for the PiKVM API.</p>"},{"location":"#key-features","title":"Key features","text":"<ul> <li>Full async/await API built on httpx</li> <li>9 API resources: ATX, HID, MSD, GPIO, Streamer, Switch, Redfish, Prometheus, Auth</li> <li>WebSocket client for realtime events and low-latency HID input</li> <li>Pydantic v2 response models with full type safety</li> <li>PEP 561 compatible \u2014 works with mypy strict mode</li> <li>TOTP two-factor authentication support</li> </ul>"},{"location":"#quick-example","title":"Quick example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        # Check host power state\n        state = await kvm.atx.get_state()\n        if not state.leds.power:\n            await kvm.atx.power_on()\n\n        # Type text via HID\n        await kvm.hid.type_text(\"Hello from aiopikvm!\")\n\n        # Take a screenshot\n        snapshot = await kvm.streamer.snapshot()\n        with open(\"screen.jpeg\", \"wb\") as f:\n            f.write(snapshot)\n\nasyncio.run(main())\n</code></pre>"},{"location":"#getting-started","title":"Getting started","text":"<p>New to aiopikvm? Start here:</p> <ul> <li>Installation \u2014 install the package</li> <li>Quick Start \u2014 first steps with every resource</li> <li>Configuration \u2014 constructor parameters and client lifecycle</li> </ul>"},{"location":"#user-guide","title":"User guide","text":"<p>Detailed guides for each API resource:</p> <ul> <li>ATX Power Control \u2014 power on/off, reset, status LEDs</li> <li>HID Keyboard &amp; Mouse \u2014 typing, key events, mouse control</li> <li>Mass Storage (MSD) \u2014 virtual drives and image upload</li> <li>GPIO Channels \u2014 read/write GPIO state</li> <li>Streamer &amp; OCR \u2014 screenshots and text recognition</li> <li>KVM Switch \u2014 multi-port switching and EDID management</li> <li>Redfish BMC \u2014 DMTF Redfish compatibility</li> <li>Prometheus Metrics \u2014 metrics export</li> <li>WebSocket \u2014 realtime events and HID input</li> <li>Error Handling \u2014 exception hierarchy and patterns</li> </ul>"},{"location":"#api-reference","title":"API reference","text":"<p>Auto-generated from source code docstrings:</p> <ul> <li>PiKVM Client \u2014 main client class</li> <li>WebSocket \u2014 WebSocket client</li> <li>Models \u2014 Pydantic response models</li> <li>Exceptions \u2014 exception hierarchy</li> <li>Resources \u2014 all API resource classes</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":""},{"location":"getting-started/configuration/#constructor-parameters","title":"Constructor parameters","text":"<pre><code>from aiopikvm import PiKVM\n\nkvm = PiKVM(\n    \"https://pikvm.local\",\n    user=\"admin\",\n    passwd=\"secret\",\n    totp=\"123456\",\n    verify_ssl=False,\n    timeout=10.0,\n)\n</code></pre> Parameter Type Default Description <code>url</code> <code>str</code> (required) PiKVM base URL <code>user</code> <code>str</code> <code>\"admin\"</code> Username for authentication <code>passwd</code> <code>str</code> <code>\"\"</code> Password for authentication <code>totp</code> <code>str \\| None</code> <code>None</code> TOTP code for two-factor auth <code>verify_ssl</code> <code>bool</code> <code>False</code> Verify SSL certificates <code>timeout</code> <code>float</code> <code>10.0</code> Request timeout in seconds <code>http_client</code> <code>httpx.AsyncClient \\| None</code> <code>None</code> External httpx client"},{"location":"getting-started/configuration/#totp-authentication","title":"TOTP authentication","text":"<p>When TOTP is enabled on PiKVM, the code is concatenated to the password without a separator:</p> <pre><code># Password \"secret\" + TOTP code \"123456\" \u2192 sent as \"secret123456\"\nasync with PiKVM(\"https://pikvm.local\", passwd=\"secret\", totp=\"123456\") as kvm:\n    ...\n</code></pre>"},{"location":"getting-started/configuration/#client-lifecycle","title":"Client lifecycle","text":""},{"location":"getting-started/configuration/#async-context-manager-recommended","title":"Async context manager (recommended)","text":"<pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    await kvm.atx.get_state()\n# Client is automatically closed here\n</code></pre>"},{"location":"getting-started/configuration/#explicit-close","title":"Explicit close","text":"<pre><code>kvm = PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\")\nawait kvm.__aenter__()\ntry:\n    await kvm.atx.get_state()\nfinally:\n    await kvm.aclose()\n</code></pre> <p>Warning</p> <p>Always close the client when done. <code>aclose()</code> releases the HTTP connection and clears cached resources.</p>"},{"location":"getting-started/configuration/#external-httpx-client","title":"External httpx client","text":"<p>You can provide your own <code>httpx.AsyncClient</code> for advanced use cases (custom middleware, shared connection pools, etc.):</p> <pre><code>import httpx\nfrom aiopikvm import PiKVM\n\nasync with httpx.AsyncClient(verify=False, timeout=30.0) as http:\n    async with PiKVM(\"https://pikvm.local\", http_client=http) as kvm:\n        state = await kvm.atx.get_state()\n</code></pre> <p>Note</p> <p>When an external client is provided, PiKVM does not close it on exit. The caller is responsible for managing the client's lifecycle.</p>"},{"location":"getting-started/configuration/#resource-access","title":"Resource access","text":"<p>Resources are accessed as properties on the <code>PiKVM</code> instance. They are lazily initialized on first access:</p> <pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    # Resources are created on first access\n    atx = kvm.atx        # ATXResource\n    hid = kvm.hid        # HIDResource\n    msd = kvm.msd        # MSDResource\n    gpio = kvm.gpio      # GPIOResource\n    streamer = kvm.streamer  # StreamerResource\n    switch = kvm.switch  # SwitchResource\n    redfish = kvm.redfish    # RedfishResource\n    prometheus = kvm.prometheus  # PrometheusResource\n    auth = kvm.auth      # AuthResource\n</code></pre> <p>Warning</p> <p>Resources can only be accessed after entering the async context. Accessing a resource before <code>__aenter__()</code> raises <code>PiKVMError</code>.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#install-from-pypi","title":"Install from PyPI","text":"pipuvpoetry <pre><code>pip install aiopikvm\n</code></pre> <pre><code>uv add aiopikvm\n</code></pre> <pre><code>poetry add aiopikvm\n</code></pre>"},{"location":"getting-started/installation/#dependencies","title":"Dependencies","text":"<p>aiopikvm automatically installs the following dependencies:</p> Package Purpose httpx Async HTTP client pydantic v2 Response models websockets WebSocket client"},{"location":"getting-started/installation/#python-version","title":"Python version","text":"<p>aiopikvm requires Python 3.13 or later.</p>"},{"location":"getting-started/installation/#ssl-certificates","title":"SSL certificates","text":"<p>PiKVM devices typically use self-signed SSL certificates. By default, aiopikvm disables SSL verification (<code>verify_ssl=False</code>).</p> <p>If your PiKVM has a valid certificate, you can enable verification:</p> <pre><code>from aiopikvm import PiKVM\n\nasync with PiKVM(\"https://pikvm.local\", verify_ssl=True) as kvm:\n    ...\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify installation","text":"<pre><code>import aiopikvm\nprint(aiopikvm.__version__)\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#basic-usage","title":"Basic usage","text":"<p>aiopikvm uses an async context manager to manage the HTTP session:</p> <pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        state = await kvm.atx.get_state()\n        print(f\"Power: {state.leds.power}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"getting-started/quickstart/#available-resources","title":"Available resources","text":"Resource Property Description ATX <code>kvm.atx</code> Host power control HID <code>kvm.hid</code> Keyboard and mouse input MSD <code>kvm.msd</code> Virtual mass storage GPIO <code>kvm.gpio</code> GPIO channel control Streamer <code>kvm.streamer</code> Screenshots and OCR Switch <code>kvm.switch</code> Multi-port KVM switching Redfish <code>kvm.redfish</code> DMTF BMC interface Prometheus <code>kvm.prometheus</code> Metrics export Auth <code>kvm.auth</code> Session authentication"},{"location":"getting-started/quickstart/#examples-by-resource","title":"Examples by resource","text":""},{"location":"getting-started/quickstart/#atx-power-control","title":"ATX \u2014 power control","text":"<pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    state = await kvm.atx.get_state()\n    if not state.leds.power:\n        await kvm.atx.power_on()\n</code></pre>"},{"location":"getting-started/quickstart/#hid-keyboard-and-mouse","title":"HID \u2014 keyboard and mouse","text":"<pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    # Type text\n    await kvm.hid.type_text(\"Hello!\")\n\n    # Send a keyboard shortcut\n    await kvm.hid.send_shortcut(\"ControlLeft\", \"KeyA\")\n\n    # Move mouse\n    await kvm.hid.send_mouse_move(500, 300)\n</code></pre>"},{"location":"getting-started/quickstart/#streamer-screenshots","title":"Streamer \u2014 screenshots","text":"<pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    jpeg_bytes = await kvm.streamer.snapshot()\n    with open(\"screen.jpeg\", \"wb\") as f:\n        f.write(jpeg_bytes)\n\n    # OCR \u2014 read text from screen\n    text = await kvm.streamer.ocr()\n    print(text)\n</code></pre>"},{"location":"getting-started/quickstart/#websocket-realtime-events","title":"WebSocket \u2014 realtime events","text":"<pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    async with kvm.ws() as ws:\n        await ws.send_key(\"KeyA\", state=True)\n        await ws.send_key(\"KeyA\", state=False)\n\n        async for event in ws.events():\n            print(event)\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next steps","text":"<ul> <li>Configuration \u2014 constructor parameters and advanced setup</li> <li>User Guide \u2014 detailed guides for each resource</li> </ul>"},{"location":"guide/atx/","title":"ATX Power Control","text":"<p>The ATX resource controls host power: power on/off, reset, and reading LED indicators.</p>"},{"location":"guide/atx/#get-state","title":"Get state","text":"<pre><code>state = await kvm.atx.get_state()\nprint(f\"Enabled: {state.enabled}\")\nprint(f\"Busy: {state.busy}\")\nprint(f\"Power LED: {state.leds.power}\")\nprint(f\"HDD LED: {state.leds.hdd}\")\n</code></pre> <p>The returned <code>ATXState</code> contains:</p> Field Type Description <code>enabled</code> <code>bool</code> Whether ATX is enabled <code>busy</code> <code>bool</code> Whether an operation is in progress <code>leds.power</code> <code>bool</code> Power LED state <code>leds.hdd</code> <code>bool</code> HDD activity LED state"},{"location":"guide/atx/#power-on-off","title":"Power on / off","text":"<pre><code># Power on the host\nawait kvm.atx.power_on()\n\n# Graceful power off\nawait kvm.atx.power_off()\n\n# Force power off (like holding the power button)\nawait kvm.atx.power_off_hard()\n</code></pre>"},{"location":"guide/atx/#button-clicks","title":"Button clicks","text":"<pre><code># Short power button press\nawait kvm.atx.click_power()\n\n# Long power button press\nawait kvm.atx.click_power_long()\n\n# Reset button press\nawait kvm.atx.click_reset()\n</code></pre>"},{"location":"guide/atx/#hard-reset","title":"Hard reset","text":"<pre><code>await kvm.atx.reset_hard()\n</code></pre>"},{"location":"guide/atx/#the-wait-parameter","title":"The <code>wait</code> parameter","text":"<p>All ATX operations accept a <code>wait</code> parameter (default <code>True</code>). When <code>True</code>, the method waits for the operation to complete before returning:</p> <pre><code># Don't wait for completion\nawait kvm.atx.power_on(wait=False)\n\n# Wait for completion (default)\nawait kvm.atx.power_on(wait=True)\n</code></pre>"},{"location":"guide/atx/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        state = await kvm.atx.get_state()\n\n        if not state.leds.power:\n            print(\"Host is off, powering on...\")\n            await kvm.atx.power_on()\n        else:\n            print(\"Host is on, resetting...\")\n            await kvm.atx.click_reset()\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/error-handling/","title":"Error Handling","text":"<p>aiopikvm provides a structured exception hierarchy for precise error handling.</p>"},{"location":"guide/error-handling/#exception-hierarchy","title":"Exception hierarchy","text":"<pre><code>PiKVMError\n\u251c\u2500\u2500 APIError\n\u2502   \u2514\u2500\u2500 AuthError\n\u251c\u2500\u2500 ConnectError\n\u251c\u2500\u2500 ConnectionTimeoutError\n\u2514\u2500\u2500 WebSocketError\n</code></pre> <p>All exceptions inherit from <code>PiKVMError</code>, so you can catch all aiopikvm errors with a single handler.</p>"},{"location":"guide/error-handling/#exception-types","title":"Exception types","text":"Exception When raised <code>PiKVMError</code> Base exception for all errors; also raised when accessing resources before entering async context <code>APIError</code> PiKVM returned an HTTP error (&gt;= 400) or the JSON body has <code>\"ok\": false</code> <code>AuthError</code> Authentication failed (HTTP 401 or 403) <code>ConnectError</code> Failed to connect to PiKVM (network unreachable, DNS failure, etc.) <code>ConnectionTimeoutError</code> Request timed out <code>WebSocketError</code> WebSocket connection or communication error"},{"location":"guide/error-handling/#apierror-details","title":"APIError details","text":"<p><code>APIError</code> includes a <code>status_code</code> attribute:</p> <pre><code>from aiopikvm import APIError\n\ntry:\n    await kvm.atx.get_state()\nexcept APIError as exc:\n    print(f\"Status: {exc.status_code}\")\n    print(f\"Message: {exc}\")\n</code></pre> <p>Note</p> <p>When <code>APIError</code> is raised from the JSON body (<code>\"ok\": false</code>), <code>status_code</code> is <code>0</code>.</p>"},{"location":"guide/error-handling/#usage-patterns","title":"Usage patterns","text":""},{"location":"guide/error-handling/#catch-all-errors","title":"Catch all errors","text":"<pre><code>from aiopikvm import PiKVMError\n\ntry:\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        await kvm.atx.power_on()\nexcept PiKVMError as exc:\n    print(f\"PiKVM error: {exc}\")\n</code></pre>"},{"location":"guide/error-handling/#catch-specific-errors","title":"Catch specific errors","text":"<pre><code>from aiopikvm import AuthError, ConnectError, ConnectionTimeoutError, APIError\n\ntry:\n    await kvm.atx.get_state()\nexcept AuthError:\n    print(\"Invalid credentials\")\nexcept ConnectError:\n    print(\"Cannot reach PiKVM\")\nexcept ConnectionTimeoutError:\n    print(\"Request timed out\")\nexcept APIError as exc:\n    print(f\"API error {exc.status_code}: {exc}\")\n</code></pre>"},{"location":"guide/error-handling/#websocket-errors","title":"WebSocket errors","text":"<pre><code>from aiopikvm import WebSocketError\n\ntry:\n    async with kvm.ws() as ws:\n        async for event in ws.events():\n            print(event)\nexcept WebSocketError as exc:\n    print(f\"WebSocket error: {exc}\")\n</code></pre>"},{"location":"guide/error-handling/#context-not-entered","title":"Context not entered","text":"<pre><code>from aiopikvm import PiKVM, PiKVMError\n\nkvm = PiKVM(\"https://pikvm.local\")\n\ntry:\n    _ = kvm.atx  # Raises PiKVMError \u2014 async context not entered\nexcept PiKVMError as exc:\n    print(exc)\n</code></pre>"},{"location":"guide/error-handling/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import (\n    PiKVM,\n    PiKVMError,\n    AuthError,\n    ConnectError,\n    ConnectionTimeoutError,\n)\n\nasync def main():\n    try:\n        async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n            state = await kvm.atx.get_state()\n            print(f\"Power: {state.leds.power}\")\n    except AuthError:\n        print(\"Check your username and password\")\n    except ConnectError:\n        print(\"Cannot connect to PiKVM \u2014 check the URL and network\")\n    except ConnectionTimeoutError:\n        print(\"Connection timed out \u2014 PiKVM may be busy\")\n    except PiKVMError as exc:\n        print(f\"Unexpected error: {exc}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/gpio/","title":"GPIO Channels","text":"<p>The GPIO resource reads and controls GPIO channels on PiKVM.</p>"},{"location":"guide/gpio/#get-state","title":"Get state","text":"<pre><code>state = await kvm.gpio.get_state()\n\n# Input channels\nfor name, input_ch in state.inputs.items():\n    print(f\"Input {name}: online={input_ch.online}, state={input_ch.state}\")\n\n# Output channels\nfor name, output_ch in state.outputs.items():\n    print(f\"Output {name}: online={output_ch.online}, state={output_ch.state}, busy={output_ch.busy}\")\n</code></pre> <p>The returned <code>GPIOState</code> contains:</p> Field Type Description <code>inputs</code> <code>dict[str, GPIOInput]</code> Input channel states <code>outputs</code> <code>dict[str, GPIOChannel]</code> Output channel states"},{"location":"guide/gpio/#switch-output","title":"Switch output","text":"<p>Set a GPIO output channel to on or off:</p> <pre><code># Turn on\nawait kvm.gpio.switch(\"relay1\", True)\n\n# Turn off\nawait kvm.gpio.switch(\"relay1\", False)\n</code></pre>"},{"location":"guide/gpio/#pulse","title":"Pulse","text":"<p>Send a pulse to a GPIO channel:</p> <pre><code># Pulse with server-default duration\nawait kvm.gpio.pulse(\"relay1\")\n\n# Pulse with custom duration (seconds)\nawait kvm.gpio.pulse(\"relay1\", delay=0.5)\n</code></pre>"},{"location":"guide/gpio/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        state = await kvm.gpio.get_state()\n\n        # Toggle all output channels\n        for name, ch in state.outputs.items():\n            if ch.online and not ch.busy:\n                await kvm.gpio.switch(name, not ch.state)\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/hid/","title":"HID Keyboard &amp; Mouse","text":"<p>The HID resource provides keyboard and mouse control over the PiKVM's HID interface.</p>"},{"location":"guide/hid/#get-state","title":"Get state","text":"<pre><code>state = await kvm.hid.get_state()\nprint(f\"Online: {state.online}\")\nprint(f\"Busy: {state.busy}\")\nprint(f\"Keyboard connected: {state.keyboard.connected}\")\nprint(f\"Mouse connected: {state.mouse.connected}\")\nprint(f\"Mouse absolute: {state.mouse.absolute}\")\n</code></pre>"},{"location":"guide/hid/#type-text","title":"Type text","text":"<p>Send a string as keyboard input:</p> <pre><code>await kvm.hid.type_text(\"Hello from aiopikvm!\")\n\n# Limit characters per request\nawait kvm.hid.type_text(\"Long text...\", limit=50)\n</code></pre>"},{"location":"guide/hid/#send-key-events","title":"Send key events","text":"<pre><code># Press and release a key\nawait kvm.hid.send_key(\"KeyA\")\n\n# Press only (hold)\nawait kvm.hid.send_key(\"KeyA\", state=True)\n\n# Release only\nawait kvm.hid.send_key(\"KeyA\", state=False)\n</code></pre>"},{"location":"guide/hid/#keyboard-shortcuts","title":"Keyboard shortcuts","text":"<pre><code># Ctrl+A\nawait kvm.hid.send_shortcut(\"ControlLeft\", \"KeyA\")\n\n# Ctrl+Alt+Delete\nawait kvm.hid.send_shortcut(\"ControlLeft\", \"AltLeft\", \"Delete\")\n\n# With delay between key events (milliseconds)\nawait kvm.hid.send_shortcut(\"ControlLeft\", \"KeyC\", wait=50)\n</code></pre>"},{"location":"guide/hid/#mouse-control","title":"Mouse control","text":""},{"location":"guide/hid/#move-mouse","title":"Move mouse","text":"<pre><code># Move to absolute coordinates\nawait kvm.hid.send_mouse_move(500, 300)\n\n# Relative movement\nawait kvm.hid.send_mouse_relative(10, -5)\n</code></pre>"},{"location":"guide/hid/#mouse-buttons","title":"Mouse buttons","text":"<pre><code># Click (press and release)\nawait kvm.hid.send_mouse_button(\"left\")\n\n# Press only\nawait kvm.hid.send_mouse_button(\"left\", state=True)\n\n# Release only\nawait kvm.hid.send_mouse_button(\"left\", state=False)\n\n# Right click\nawait kvm.hid.send_mouse_button(\"right\")\n</code></pre>"},{"location":"guide/hid/#mouse-wheel","title":"Mouse wheel","text":"<pre><code># Scroll up\nawait kvm.hid.send_mouse_wheel(0, -5)\n\n# Scroll down\nawait kvm.hid.send_mouse_wheel(0, 5)\n\n# Horizontal scroll\nawait kvm.hid.send_mouse_wheel(3, 0)\n</code></pre>"},{"location":"guide/hid/#hid-parameters","title":"HID parameters","text":"<pre><code># Set keyboard output type\nawait kvm.hid.set_params(keyboard_output=\"usb\")\n\n# Set mouse output type\nawait kvm.hid.set_params(mouse_output=\"usb_rel\")\n</code></pre>"},{"location":"guide/hid/#connection-control","title":"Connection control","text":"<pre><code># Disconnect HID\nawait kvm.hid.set_connected(False)\n\n# Reconnect HID\nawait kvm.hid.set_connected(True)\n\n# Reset HID subsystem\nawait kvm.hid.reset()\n</code></pre>"},{"location":"guide/hid/#keymaps","title":"Keymaps","text":"<pre><code>keymaps = await kvm.hid.get_keymaps()\nprint(keymaps)\n</code></pre>"},{"location":"guide/hid/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        # Type credentials into a login form\n        await kvm.hid.type_text(\"admin\")\n        await kvm.hid.send_key(\"Tab\")\n        await kvm.hid.type_text(\"password123\")\n        await kvm.hid.send_key(\"Enter\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/msd/","title":"Mass Storage (MSD)","text":"<p>The MSD resource manages virtual mass storage drives \u2014 upload disk images, connect/disconnect drives, and configure drive parameters.</p>"},{"location":"guide/msd/#get-state","title":"Get state","text":"<pre><code>state = await kvm.msd.get_state()\nprint(f\"Enabled: {state.enabled}\")\nprint(f\"Online: {state.online}\")\nprint(f\"Busy: {state.busy}\")\nprint(f\"Drive image: {state.drive.image}\")\nprint(f\"Drive connected: {state.drive.connected}\")\nprint(f\"CD-ROM mode: {state.drive.cdrom}\")\nprint(f\"Storage size: {state.storage.size}\")\nprint(f\"Storage free: {state.storage.free}\")\n</code></pre>"},{"location":"guide/msd/#upload-images","title":"Upload images","text":""},{"location":"guide/msd/#from-bytes","title":"From bytes","text":"<pre><code>with open(\"image.iso\", \"rb\") as f:\n    data = f.read()\n\nawait kvm.msd.upload(\"image.iso\", data)\n</code></pre>"},{"location":"guide/msd/#from-async-iterator","title":"From async iterator","text":"<p>For large files, use an async iterator to avoid loading the entire file into memory:</p> <pre><code>import aiofiles\n\nasync def read_chunks(path: str, chunk_size: int = 65536):\n    async with aiofiles.open(path, \"rb\") as f:\n        while chunk := await f.read(chunk_size):\n            yield chunk\n\nawait kvm.msd.upload(\"large-image.iso\", read_chunks(\"/path/to/image.iso\"))\n</code></pre>"},{"location":"guide/msd/#from-remote-url","title":"From remote URL","text":"<pre><code>await kvm.msd.upload_remote(\"https://example.com/image.iso\")\n\n# With custom timeout\nawait kvm.msd.upload_remote(\"https://example.com/image.iso\", timeout=300)\n</code></pre>"},{"location":"guide/msd/#drive-parameters","title":"Drive parameters","text":"<pre><code># Set CD-ROM mode\nawait kvm.msd.set_params(cdrom=True)\n\n# Set read-write mode\nawait kvm.msd.set_params(rw=True)\n\n# Set both\nawait kvm.msd.set_params(cdrom=False, rw=True)\n</code></pre>"},{"location":"guide/msd/#connect-disconnect","title":"Connect / disconnect","text":"<pre><code># Connect the drive to the host\nawait kvm.msd.set_connected(True)\n\n# Disconnect\nawait kvm.msd.set_connected(False)\n</code></pre>"},{"location":"guide/msd/#remove-images","title":"Remove images","text":"<pre><code>await kvm.msd.remove(\"old-image.iso\")\n</code></pre>"},{"location":"guide/msd/#reset","title":"Reset","text":"<pre><code>await kvm.msd.reset()\n</code></pre>"},{"location":"guide/msd/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        # Upload an ISO and connect as CD-ROM\n        with open(\"boot.iso\", \"rb\") as f:\n            await kvm.msd.upload(\"boot.iso\", f.read())\n\n        await kvm.msd.set_params(cdrom=True)\n        await kvm.msd.set_connected(True)\n\n        # Reboot the host to boot from the virtual CD\n        await kvm.atx.click_reset()\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/prometheus/","title":"Prometheus Metrics","text":"<p>The Prometheus resource exports PiKVM metrics in Prometheus text exposition format.</p>"},{"location":"guide/prometheus/#get-metrics","title":"Get metrics","text":"<pre><code>metrics = await kvm.prometheus.get_metrics()\nprint(metrics)\n</code></pre> <p>The method returns a string in the Prometheus text exposition format:</p> <pre><code># HELP pikvm_atx_enabled ATX enabled\n# TYPE pikvm_atx_enabled gauge\npikvm_atx_enabled 1\n# HELP pikvm_atx_power ATX power LED\n# TYPE pikvm_atx_power gauge\npikvm_atx_power 1\n...\n</code></pre>"},{"location":"guide/prometheus/#integration-example","title":"Integration example","text":"<p>You can use a Prometheus client library to push metrics, or serve them as an HTTP endpoint:</p> <pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def collect_metrics():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        metrics = await kvm.prometheus.get_metrics()\n\n        # Write to a file for node_exporter textfile collector\n        with open(\"/var/lib/prometheus/pikvm.prom\", \"w\") as f:\n            f.write(metrics)\n\nasyncio.run(collect_metrics())\n</code></pre>"},{"location":"guide/prometheus/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        metrics = await kvm.prometheus.get_metrics()\n        for line in metrics.strip().split(\"\\n\"):\n            if not line.startswith(\"#\"):\n                print(line)\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/redfish/","title":"Redfish BMC","text":"<p>The Redfish resource provides DMTF Redfish BMC compatibility for PiKVM.</p> <p>Warning</p> <p>Redfish endpoints do not use the standard PiKVM response format (<code>{\"ok\": true, \"result\": ...}</code>). They return plain JSON bodies.</p>"},{"location":"guide/redfish/#reset","title":"Reset","text":"<p>Send a Redfish <code>ComputerSystem.Reset</code> action:</p> <pre><code>result = await kvm.redfish.reset()\nprint(result)\n</code></pre>"},{"location":"guide/redfish/#reset-types","title":"Reset types","text":"<pre><code># Force restart (default)\nawait kvm.redfish.reset(\"ForceRestart\")\n\n# Force off\nawait kvm.redfish.reset(\"ForceOff\")\n\n# Force on\nawait kvm.redfish.reset(\"ForceOn\")\n\n# Graceful shutdown\nawait kvm.redfish.reset(\"GracefulShutdown\")\n\n# Graceful restart\nawait kvm.redfish.reset(\"GracefulRestart\")\n</code></pre>"},{"location":"guide/redfish/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        result = await kvm.redfish.reset(\"GracefulRestart\")\n        print(f\"Redfish response: {result}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/streamer/","title":"Streamer &amp; OCR","text":"<p>The Streamer resource captures screenshots and performs OCR (optical character recognition) on the current screen.</p>"},{"location":"guide/streamer/#get-state","title":"Get state","text":"<pre><code>state = await kvm.streamer.get_state()\nprint(f\"Enabled: {state.enabled}\")\nprint(f\"Source online: {state.source.online}\")\nif state.source.resolution:\n    print(f\"Resolution: {state.source.resolution.width}x{state.source.resolution.height}\")\n</code></pre>"},{"location":"guide/streamer/#take-a-screenshot","title":"Take a screenshot","text":"<p>Returns raw JPEG image bytes:</p> <pre><code>jpeg_bytes = await kvm.streamer.snapshot()\n\n# Save to file\nwith open(\"screenshot.jpeg\", \"wb\") as f:\n    f.write(jpeg_bytes)\n</code></pre>"},{"location":"guide/streamer/#ocr","title":"OCR","text":"<p>Read text from the current screen:</p> <pre><code>text = await kvm.streamer.ocr()\nprint(text)\n</code></pre> <p>Note</p> <p>OCR must be enabled in the PiKVM configuration. The quality depends on the screen resolution and font rendering.</p>"},{"location":"guide/streamer/#delete-cached-snapshot","title":"Delete cached snapshot","text":"<pre><code>await kvm.streamer.delete_snapshot()\n</code></pre>"},{"location":"guide/streamer/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        # Check if source is online\n        state = await kvm.streamer.get_state()\n        if not state.source.online:\n            print(\"Video source is offline\")\n            return\n\n        # Take a screenshot\n        jpeg = await kvm.streamer.snapshot()\n        with open(\"screen.jpeg\", \"wb\") as f:\n            f.write(jpeg)\n\n        # Read text from screen\n        text = await kvm.streamer.ocr()\n        if \"login\" in text.lower():\n            print(\"Login screen detected\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/switch/","title":"KVM Switch","text":"<p>The Switch resource manages multi-port KVM switching and EDID profiles.</p>"},{"location":"guide/switch/#get-state","title":"Get state","text":"<pre><code>state = await kvm.switch.get_state()\nprint(f\"Active port: {state.active}\")\n\nfor port_id, port in state.ports.items():\n    print(f\"Port {port_id}: {port.name}\")\n</code></pre>"},{"location":"guide/switch/#switch-active-port","title":"Switch active port","text":"<pre><code>await kvm.switch.set_active(\"port1\")\n</code></pre>"},{"location":"guide/switch/#edid-management","title":"EDID management","text":""},{"location":"guide/switch/#list-edid-profiles","title":"List EDID profiles","text":"<pre><code>edids = await kvm.switch.get_edids()\nfor edid in edids:\n    print(f\"ID: {edid.id}, Description: {edid.description}\")\n</code></pre>"},{"location":"guide/switch/#create-an-edid-profile","title":"Create an EDID profile","text":"<pre><code>await kvm.switch.create_edid(\n    \"custom-1080p\",\n    data=\"00ffffffffffff...\",  # hex-encoded EDID data\n    description=\"Custom 1080p profile\",\n)\n</code></pre>"},{"location":"guide/switch/#assign-edid-to-a-port","title":"Assign EDID to a port","text":"<pre><code>await kvm.switch.change_edid(\"port1\", \"custom-1080p\")\n</code></pre>"},{"location":"guide/switch/#remove-an-edid-profile","title":"Remove an EDID profile","text":"<pre><code>await kvm.switch.remove_edid(\"custom-1080p\")\n</code></pre>"},{"location":"guide/switch/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        # List available ports\n        state = await kvm.switch.get_state()\n        print(f\"Current: {state.active}\")\n        for port_id, port in state.ports.items():\n            marker = \" (active)\" if port_id == state.active else \"\"\n            print(f\"  {port_id}: {port.name}{marker}\")\n\n        # Switch to another port\n        await kvm.switch.set_active(\"port2\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"guide/websocket/","title":"WebSocket","text":"<p>The WebSocket client connects to PiKVM's realtime event stream and provides low-latency HID input.</p>"},{"location":"guide/websocket/#creating-a-connection","title":"Creating a connection","text":"<p>Use <code>kvm.ws()</code> to create a WebSocket connection:</p> <pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    async with kvm.ws() as ws:\n        ...\n</code></pre>"},{"location":"guide/websocket/#connection-parameters","title":"Connection parameters","text":"<pre><code>async with kvm.ws(\n    stream=0,              # Stream index (default: 0)\n    open_timeout=10.0,     # Connection timeout\n    close_timeout=10.0,    # Close timeout\n) as ws:\n    ...\n</code></pre>"},{"location":"guide/websocket/#receiving-events","title":"Receiving events","text":"<p>Iterate over incoming events using <code>events()</code>:</p> <pre><code>async with kvm.ws() as ws:\n    async for event in ws.events():\n        print(event)\n</code></pre> <p>Events are dictionaries parsed from JSON messages. The first message after connection is a full state bundle, followed by incremental updates.</p>"},{"location":"guide/websocket/#keyboard-input","title":"Keyboard input","text":"<pre><code>async with kvm.ws() as ws:\n    # Press a key\n    await ws.send_key(\"KeyA\", state=True)\n\n    # Release a key\n    await ws.send_key(\"KeyA\", state=False)\n</code></pre>"},{"location":"guide/websocket/#mouse-input","title":"Mouse input","text":""},{"location":"guide/websocket/#move-mouse","title":"Move mouse","text":"<pre><code>async with kvm.ws() as ws:\n    await ws.send_mouse_move(500, 300)\n</code></pre>"},{"location":"guide/websocket/#mouse-buttons","title":"Mouse buttons","text":"<pre><code>async with kvm.ws() as ws:\n    # Press left button\n    await ws.send_mouse_button(\"left\", True)\n\n    # Release left button\n    await ws.send_mouse_button(\"left\", False)\n</code></pre>"},{"location":"guide/websocket/#mouse-wheel","title":"Mouse wheel","text":"<pre><code>async with kvm.ws() as ws:\n    # Scroll down\n    await ws.send_mouse_wheel(0, 5)\n</code></pre>"},{"location":"guide/websocket/#ping","title":"Ping","text":"<p>Keep the connection alive:</p> <pre><code>async with kvm.ws() as ws:\n    await ws.ping()\n</code></pre>"},{"location":"guide/websocket/#standalone-usage","title":"Standalone usage","text":"<p><code>PiKVMWebSocket</code> can also be used independently:</p> <pre><code>from aiopikvm import PiKVMWebSocket\n\nws = PiKVMWebSocket(\n    url=\"https://pikvm.local\",\n    user=\"admin\",\n    passwd=\"admin\",\n    verify_ssl=False,\n    stream=0,\n    open_timeout=10.0,\n    close_timeout=10.0,\n)\n\nasync with ws:\n    async for event in ws.events():\n        print(event)\n</code></pre>"},{"location":"guide/websocket/#full-example","title":"Full example","text":"<pre><code>import asyncio\nfrom aiopikvm import PiKVM\n\nasync def main():\n    async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n        async with kvm.ws() as ws:\n            # Type \"hello\" via WebSocket HID\n            for char in \"hello\":\n                key = f\"Key{char.upper()}\"\n                await ws.send_key(key, state=True)\n                await ws.send_key(key, state=False)\n                await asyncio.sleep(0.05)\n\n            # Read a few events\n            count = 0\n            async for event in ws.events():\n                print(event)\n                count += 1\n                if count &gt;= 5:\n                    break\n\nasyncio.run(main())\n</code></pre>"},{"location":"reference/client/","title":"PiKVM Client","text":""},{"location":"reference/client/#aiopikvm.PiKVM","title":"<code>PiKVM</code>","text":"<p>Async client for PiKVM API.</p> <p>Usage::</p> <pre><code>async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n    await kvm.atx.power_on()\n</code></pre> <p>An external httpx.AsyncClient can be provided via http_client; in that case the caller is responsible for closing it.</p> Source code in <code>src/aiopikvm/_client.py</code> <pre><code>class PiKVM:\n    \"\"\"Async client for PiKVM API.\n\n    Usage::\n\n        async with PiKVM(\"https://pikvm.local\", user=\"admin\", passwd=\"admin\") as kvm:\n            await kvm.atx.power_on()\n\n    An external *httpx.AsyncClient* can be provided via *http_client*; in that\n    case the caller is responsible for closing it.\n    \"\"\"\n\n    def __init__(\n        self,\n        url: str,\n        *,\n        user: str = \"admin\",\n        passwd: str = \"\",\n        totp: str | None = None,\n        verify_ssl: bool = DEFAULT_VERIFY_SSL,\n        timeout: float = DEFAULT_TIMEOUT,\n        http_client: httpx.AsyncClient | None = None,\n    ) -&gt; None:\n        self._url = url.rstrip(\"/\")\n        self._user = user\n        self._passwd = passwd\n        self._totp = totp\n        self._verify_ssl = verify_ssl\n        self._timeout = timeout\n        self._external_client = http_client is not None\n        self._client: httpx.AsyncClient | None = http_client\n\n    @property\n    def _password(self) -&gt; str:\n        \"\"\"Password with optional TOTP code appended.\"\"\"\n        return self._passwd if self._totp is None else f\"{self._passwd}{self._totp}\"\n\n    # --- HTTP ----------------------------------------------------------\n\n    def _ensure_client(self) -&gt; httpx.AsyncClient:\n        \"\"\"Return the underlying *httpx.AsyncClient*.\n\n        Raises:\n            PiKVMError: If the async context has not been entered yet.\n        \"\"\"\n        if self._client is None:\n            raise PiKVMError(\n                \"Cannot access resources before entering async context. \"\n                \"Use 'async with PiKVM(...) as kvm:' first.\"\n            )\n        return self._client\n\n    async def request(\n        self,\n        method: str,\n        path: str,\n        *,\n        params: dict[str, Any] | None = None,\n        json: dict[str, Any] | None = None,\n        content: bytes | httpx.AsyncByteStream | None = None,\n        headers: dict[str, str] | None = None,\n    ) -&gt; httpx.Response:\n        \"\"\"Send an HTTP request and return the raw response.\n\n        Args:\n            method: HTTP method (GET, POST, etc.).\n            path: URL path relative to the PiKVM base URL.\n            params: Query parameters.\n            json: JSON body.\n            content: Raw body bytes or async byte stream.\n            headers: Extra HTTP headers.\n\n        Returns:\n            The *httpx.Response* object.\n\n        Raises:\n            ConnectError: Connection to PiKVM failed.\n            ConnectionTimeoutError: Request timed out.\n            AuthError: Authentication failed (401/403).\n            APIError: Server returned an error status (&gt;= 400).\n        \"\"\"\n        client = self._ensure_client()\n        try:\n            response = await client.request(\n                method,\n                path,\n                params=params,\n                json=json,\n                content=content,\n                headers=headers,\n            )\n        except httpx.ConnectError as exc:\n            raise ConnectError(str(exc)) from exc\n        except httpx.TimeoutException as exc:\n            raise ConnectionTimeoutError(str(exc)) from exc\n\n        self._raise_for_status(response)\n        return response\n\n    @staticmethod\n    def _raise_for_status(response: httpx.Response) -&gt; None:\n        \"\"\"Raise an appropriate exception for HTTP error status codes.\n\n        Args:\n            response: The HTTP response to check.\n\n        Raises:\n            AuthError: If status code is 401 or 403.\n            APIError: If status code is &gt;= 400.\n        \"\"\"\n        if response.status_code in (401, 403):\n            raise AuthError(\n                f\"Authentication failed: {response.status_code}\",\n                status_code=response.status_code,\n            )\n\n        if response.status_code &gt;= 400:\n            raise APIError(\n                f\"HTTP {response.status_code}: {response.text}\",\n                status_code=response.status_code,\n            )\n\n    # --- Resources (lazy) ----------------------------------------------\n\n    @cached_property\n    def auth(self) -&gt; AuthResource:\n        \"\"\"Authentication resource.\"\"\"\n        from aiopikvm.resources.auth import AuthResource\n\n        self._ensure_client()\n        return AuthResource(self)\n\n    @cached_property\n    def atx(self) -&gt; ATXResource:\n        \"\"\"ATX power control resource.\"\"\"\n        from aiopikvm.resources.atx import ATXResource\n\n        self._ensure_client()\n        return ATXResource(self)\n\n    @cached_property\n    def hid(self) -&gt; HIDResource:\n        \"\"\"HID keyboard and mouse resource.\"\"\"\n        from aiopikvm.resources.hid import HIDResource\n\n        self._ensure_client()\n        return HIDResource(self)\n\n    @cached_property\n    def msd(self) -&gt; MSDResource:\n        \"\"\"Mass Storage Device resource.\"\"\"\n        from aiopikvm.resources.msd import MSDResource\n\n        self._ensure_client()\n        return MSDResource(self)\n\n    @cached_property\n    def gpio(self) -&gt; GPIOResource:\n        \"\"\"GPIO channels resource.\"\"\"\n        from aiopikvm.resources.gpio import GPIOResource\n\n        self._ensure_client()\n        return GPIOResource(self)\n\n    @cached_property\n    def streamer(self) -&gt; StreamerResource:\n        \"\"\"Streamer snapshots and OCR resource.\"\"\"\n        from aiopikvm.resources.streamer import StreamerResource\n\n        self._ensure_client()\n        return StreamerResource(self)\n\n    @cached_property\n    def switch(self) -&gt; SwitchResource:\n        \"\"\"Multi-port KVM switch resource.\"\"\"\n        from aiopikvm.resources.switch import SwitchResource\n\n        self._ensure_client()\n        return SwitchResource(self)\n\n    @cached_property\n    def redfish(self) -&gt; RedfishResource:\n        \"\"\"Redfish DMTF BMC resource.\"\"\"\n        from aiopikvm.resources.redfish import RedfishResource\n\n        self._ensure_client()\n        return RedfishResource(self)\n\n    @cached_property\n    def prometheus(self) -&gt; PrometheusResource:\n        \"\"\"Prometheus metrics resource.\"\"\"\n        from aiopikvm.resources.prometheus import PrometheusResource\n\n        self._ensure_client()\n        return PrometheusResource(self)\n\n    # --- Context manager -----------------------------------------------\n\n    async def __aenter__(self) -&gt; Self:\n        if self._client is None:\n            self._client = httpx.AsyncClient(\n                base_url=self._url,\n                headers={\n                    \"X-KVMD-User\": self._user,\n                    \"X-KVMD-Passwd\": self._password,\n                },\n                verify=self._verify_ssl,\n                timeout=self._timeout,\n            )\n        return self\n\n    async def aclose(self) -&gt; None:\n        \"\"\"Close the client and release resources.\"\"\"\n        for name in _RESOURCE_NAMES:\n            self.__dict__.pop(name, None)\n\n        if not self._external_client and self._client is not None:\n            await self._client.aclose()\n            self._client = None\n\n    async def __aexit__(\n        self,\n        exc_type: type[BaseException] | None,\n        exc_val: BaseException | None,\n        exc_tb: TracebackType | None,\n    ) -&gt; None:\n        await self.aclose()\n\n    # --- WebSocket -----------------------------------------------------\n\n    def ws(\n        self,\n        *,\n        stream: int = 0,\n        open_timeout: float | None = None,\n        close_timeout: float | None = None,\n    ) -&gt; PiKVMWebSocket:\n        \"\"\"Create a WebSocket connection.\n\n        Args:\n            stream: Stream index (default ``0``).\n            open_timeout: Timeout for opening the connection (defaults to\n                the client *timeout*).\n            close_timeout: Timeout for closing the connection (defaults to\n                the client *timeout*).\n\n        Returns:\n            A *PiKVMWebSocket* async context manager.\n        \"\"\"\n        return PiKVMWebSocket(\n            url=self._url,\n            user=self._user,\n            passwd=self._password,\n            verify_ssl=self._verify_ssl,\n            stream=stream,\n            open_timeout=open_timeout if open_timeout is not None else self._timeout,\n            close_timeout=close_timeout if close_timeout is not None else self._timeout,\n        )\n</code></pre>"},{"location":"reference/client/#aiopikvm.PiKVM.auth","title":"<code>auth</code>  <code>cached</code> <code>property</code>","text":"<p>Authentication resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.atx","title":"<code>atx</code>  <code>cached</code> <code>property</code>","text":"<p>ATX power control resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.hid","title":"<code>hid</code>  <code>cached</code> <code>property</code>","text":"<p>HID keyboard and mouse resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.msd","title":"<code>msd</code>  <code>cached</code> <code>property</code>","text":"<p>Mass Storage Device resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.gpio","title":"<code>gpio</code>  <code>cached</code> <code>property</code>","text":"<p>GPIO channels resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.streamer","title":"<code>streamer</code>  <code>cached</code> <code>property</code>","text":"<p>Streamer snapshots and OCR resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.switch","title":"<code>switch</code>  <code>cached</code> <code>property</code>","text":"<p>Multi-port KVM switch resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.redfish","title":"<code>redfish</code>  <code>cached</code> <code>property</code>","text":"<p>Redfish DMTF BMC resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.prometheus","title":"<code>prometheus</code>  <code>cached</code> <code>property</code>","text":"<p>Prometheus metrics resource.</p>"},{"location":"reference/client/#aiopikvm.PiKVM.__init__","title":"<code>__init__(url, *, user='admin', passwd='', totp=None, verify_ssl=DEFAULT_VERIFY_SSL, timeout=DEFAULT_TIMEOUT, http_client=None)</code>","text":"Source code in <code>src/aiopikvm/_client.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    *,\n    user: str = \"admin\",\n    passwd: str = \"\",\n    totp: str | None = None,\n    verify_ssl: bool = DEFAULT_VERIFY_SSL,\n    timeout: float = DEFAULT_TIMEOUT,\n    http_client: httpx.AsyncClient | None = None,\n) -&gt; None:\n    self._url = url.rstrip(\"/\")\n    self._user = user\n    self._passwd = passwd\n    self._totp = totp\n    self._verify_ssl = verify_ssl\n    self._timeout = timeout\n    self._external_client = http_client is not None\n    self._client: httpx.AsyncClient | None = http_client\n</code></pre>"},{"location":"reference/client/#aiopikvm.PiKVM.request","title":"<code>request(method, path, *, params=None, json=None, content=None, headers=None)</code>  <code>async</code>","text":"<p>Send an HTTP request and return the raw response.</p> <p>Parameters:</p> Name Type Description Default <code>method</code> <code>str</code> <p>HTTP method (GET, POST, etc.).</p> required <code>path</code> <code>str</code> <p>URL path relative to the PiKVM base URL.</p> required <code>params</code> <code>dict[str, Any] | None</code> <p>Query parameters.</p> <code>None</code> <code>json</code> <code>dict[str, Any] | None</code> <p>JSON body.</p> <code>None</code> <code>content</code> <code>bytes | AsyncByteStream | None</code> <p>Raw body bytes or async byte stream.</p> <code>None</code> <code>headers</code> <code>dict[str, str] | None</code> <p>Extra HTTP headers.</p> <code>None</code> <p>Returns:</p> Type Description <code>Response</code> <p>The httpx.Response object.</p> <p>Raises:</p> Type Description <code>ConnectError</code> <p>Connection to PiKVM failed.</p> <code>ConnectionTimeoutError</code> <p>Request timed out.</p> <code>AuthError</code> <p>Authentication failed (401/403).</p> <code>APIError</code> <p>Server returned an error status (&gt;= 400).</p> Source code in <code>src/aiopikvm/_client.py</code> <pre><code>async def request(\n    self,\n    method: str,\n    path: str,\n    *,\n    params: dict[str, Any] | None = None,\n    json: dict[str, Any] | None = None,\n    content: bytes | httpx.AsyncByteStream | None = None,\n    headers: dict[str, str] | None = None,\n) -&gt; httpx.Response:\n    \"\"\"Send an HTTP request and return the raw response.\n\n    Args:\n        method: HTTP method (GET, POST, etc.).\n        path: URL path relative to the PiKVM base URL.\n        params: Query parameters.\n        json: JSON body.\n        content: Raw body bytes or async byte stream.\n        headers: Extra HTTP headers.\n\n    Returns:\n        The *httpx.Response* object.\n\n    Raises:\n        ConnectError: Connection to PiKVM failed.\n        ConnectionTimeoutError: Request timed out.\n        AuthError: Authentication failed (401/403).\n        APIError: Server returned an error status (&gt;= 400).\n    \"\"\"\n    client = self._ensure_client()\n    try:\n        response = await client.request(\n            method,\n            path,\n            params=params,\n            json=json,\n            content=content,\n            headers=headers,\n        )\n    except httpx.ConnectError as exc:\n        raise ConnectError(str(exc)) from exc\n    except httpx.TimeoutException as exc:\n        raise ConnectionTimeoutError(str(exc)) from exc\n\n    self._raise_for_status(response)\n    return response\n</code></pre>"},{"location":"reference/client/#aiopikvm.PiKVM.ws","title":"<code>ws(*, stream=0, open_timeout=None, close_timeout=None)</code>","text":"<p>Create a WebSocket connection.</p> <p>Parameters:</p> Name Type Description Default <code>stream</code> <code>int</code> <p>Stream index (default <code>0</code>).</p> <code>0</code> <code>open_timeout</code> <code>float | None</code> <p>Timeout for opening the connection (defaults to the client timeout).</p> <code>None</code> <code>close_timeout</code> <code>float | None</code> <p>Timeout for closing the connection (defaults to the client timeout).</p> <code>None</code> <p>Returns:</p> Type Description <code>PiKVMWebSocket</code> <p>A PiKVMWebSocket async context manager.</p> Source code in <code>src/aiopikvm/_client.py</code> <pre><code>def ws(\n    self,\n    *,\n    stream: int = 0,\n    open_timeout: float | None = None,\n    close_timeout: float | None = None,\n) -&gt; PiKVMWebSocket:\n    \"\"\"Create a WebSocket connection.\n\n    Args:\n        stream: Stream index (default ``0``).\n        open_timeout: Timeout for opening the connection (defaults to\n            the client *timeout*).\n        close_timeout: Timeout for closing the connection (defaults to\n            the client *timeout*).\n\n    Returns:\n        A *PiKVMWebSocket* async context manager.\n    \"\"\"\n    return PiKVMWebSocket(\n        url=self._url,\n        user=self._user,\n        passwd=self._password,\n        verify_ssl=self._verify_ssl,\n        stream=stream,\n        open_timeout=open_timeout if open_timeout is not None else self._timeout,\n        close_timeout=close_timeout if close_timeout is not None else self._timeout,\n    )\n</code></pre>"},{"location":"reference/client/#aiopikvm.PiKVM.aclose","title":"<code>aclose()</code>  <code>async</code>","text":"<p>Close the client and release resources.</p> Source code in <code>src/aiopikvm/_client.py</code> <pre><code>async def aclose(self) -&gt; None:\n    \"\"\"Close the client and release resources.\"\"\"\n    for name in _RESOURCE_NAMES:\n        self.__dict__.pop(name, None)\n\n    if not self._external_client and self._client is not None:\n        await self._client.aclose()\n        self._client = None\n</code></pre>"},{"location":"reference/exceptions/","title":"Exceptions","text":""},{"location":"reference/exceptions/#hierarchy","title":"Hierarchy","text":"<pre><code>PiKVMError\n\u251c\u2500\u2500 APIError\n\u2502   \u2514\u2500\u2500 AuthError\n\u251c\u2500\u2500 ConnectError\n\u251c\u2500\u2500 ConnectionTimeoutError\n\u2514\u2500\u2500 WebSocketError\n</code></pre>"},{"location":"reference/exceptions/#reference","title":"Reference","text":""},{"location":"reference/exceptions/#aiopikvm.PiKVMError","title":"<code>PiKVMError</code>","text":"<p>Base exception for all aiopikvm errors.</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class PiKVMError(Exception):\n    \"\"\"Base exception for all aiopikvm errors.\"\"\"\n</code></pre>"},{"location":"reference/exceptions/#aiopikvm.APIError","title":"<code>APIError</code>","text":"<p>               Bases: <code>PiKVMError</code></p> <p>PiKVM API returned an error.</p> <p>Attributes:</p> Name Type Description <code>status_code</code> <p>HTTP status code (<code>0</code> when parsed from the JSON body).</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class APIError(PiKVMError):\n    \"\"\"PiKVM API returned an error.\n\n    Attributes:\n        status_code: HTTP status code (``0`` when parsed from the JSON body).\n    \"\"\"\n\n    def __init__(self, message: str, status_code: int = 0) -&gt; None:\n        super().__init__(message)\n        self.status_code = status_code\n</code></pre>"},{"location":"reference/exceptions/#aiopikvm.AuthError","title":"<code>AuthError</code>","text":"<p>               Bases: <code>APIError</code></p> <p>Authentication failed (HTTP 401/403).</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class AuthError(APIError):\n    \"\"\"Authentication failed (HTTP 401/403).\"\"\"\n</code></pre>"},{"location":"reference/exceptions/#aiopikvm.ConnectError","title":"<code>ConnectError</code>","text":"<p>               Bases: <code>PiKVMError</code></p> <p>Failed to connect to PiKVM.</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class ConnectError(PiKVMError):\n    \"\"\"Failed to connect to PiKVM.\"\"\"\n</code></pre>"},{"location":"reference/exceptions/#aiopikvm.ConnectionTimeoutError","title":"<code>ConnectionTimeoutError</code>","text":"<p>               Bases: <code>PiKVMError</code></p> <p>Request to PiKVM timed out.</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class ConnectionTimeoutError(PiKVMError):\n    \"\"\"Request to PiKVM timed out.\"\"\"\n</code></pre>"},{"location":"reference/exceptions/#aiopikvm.WebSocketError","title":"<code>WebSocketError</code>","text":"<p>               Bases: <code>PiKVMError</code></p> <p>WebSocket connection error.</p> Source code in <code>src/aiopikvm/_exceptions.py</code> <pre><code>class WebSocketError(PiKVMError):\n    \"\"\"WebSocket connection error.\"\"\"\n</code></pre>"},{"location":"reference/models/","title":"Models","text":"<p>All response models inherit from a base class with <code>extra=\"allow\"</code> for forward-compatible parsing.</p>"},{"location":"reference/models/#atx","title":"ATX","text":""},{"location":"reference/models/#aiopikvm.ATXState","title":"<code>ATXState</code>","text":"<p>ATX subsystem state.</p> Source code in <code>src/aiopikvm/models/atx.py</code> <pre><code>class ATXState(_Base):\n    \"\"\"ATX subsystem state.\"\"\"\n\n    enabled: bool\n    busy: bool\n    leds: ATXLeds\n</code></pre>"},{"location":"reference/models/#aiopikvm.ATXLeds","title":"<code>ATXLeds</code>","text":"<p>ATX LED indicators state.</p> Source code in <code>src/aiopikvm/models/atx.py</code> <pre><code>class ATXLeds(_Base):\n    \"\"\"ATX LED indicators state.\"\"\"\n\n    power: bool\n    hdd: bool\n</code></pre>"},{"location":"reference/models/#hid","title":"HID","text":""},{"location":"reference/models/#aiopikvm.HIDState","title":"<code>HIDState</code>","text":"<p>HID subsystem state.</p> Source code in <code>src/aiopikvm/models/hid.py</code> <pre><code>class HIDState(_Base):\n    \"\"\"HID subsystem state.\"\"\"\n\n    online: bool\n    busy: bool\n    connected: bool | None = None\n    keyboard: HIDKeyboard\n    mouse: HIDMouse\n</code></pre>"},{"location":"reference/models/#aiopikvm.HIDKeyboard","title":"<code>HIDKeyboard</code>","text":"<p>HID keyboard state.</p> Source code in <code>src/aiopikvm/models/hid.py</code> <pre><code>class HIDKeyboard(_Base):\n    \"\"\"HID keyboard state.\"\"\"\n\n    connected: bool\n</code></pre>"},{"location":"reference/models/#aiopikvm.HIDMouse","title":"<code>HIDMouse</code>","text":"<p>HID mouse state.</p> Source code in <code>src/aiopikvm/models/hid.py</code> <pre><code>class HIDMouse(_Base):\n    \"\"\"HID mouse state.\"\"\"\n\n    absolute: bool\n    connected: bool\n</code></pre>"},{"location":"reference/models/#aiopikvm.HIDKeymap","title":"<code>HIDKeymap</code>","text":"<p>Keyboard keymap entry.</p> Source code in <code>src/aiopikvm/models/hid.py</code> <pre><code>class HIDKeymap(_Base):\n    \"\"\"Keyboard keymap entry.\"\"\"\n\n    name: str\n</code></pre>"},{"location":"reference/models/#msd","title":"MSD","text":""},{"location":"reference/models/#aiopikvm.MSDState","title":"<code>MSDState</code>","text":"<p>MSD subsystem state.</p> Source code in <code>src/aiopikvm/models/msd.py</code> <pre><code>class MSDState(_Base):\n    \"\"\"MSD subsystem state.\"\"\"\n\n    enabled: bool\n    online: bool\n    busy: bool\n    drive: MSDDrive\n    storage: MSDStorage\n</code></pre>"},{"location":"reference/models/#aiopikvm.MSDDrive","title":"<code>MSDDrive</code>","text":"<p>MSD virtual drive state.</p> Source code in <code>src/aiopikvm/models/msd.py</code> <pre><code>class MSDDrive(_Base):\n    \"\"\"MSD virtual drive state.\"\"\"\n\n    image: str | None = None\n    connected: bool\n    cdrom: bool\n</code></pre>"},{"location":"reference/models/#aiopikvm.MSDStorage","title":"<code>MSDStorage</code>","text":"<p>MSD storage information.</p> Source code in <code>src/aiopikvm/models/msd.py</code> <pre><code>class MSDStorage(_Base):\n    \"\"\"MSD storage information.\"\"\"\n\n    size: int\n    free: int\n    images: dict[str, Any]\n</code></pre>"},{"location":"reference/models/#gpio","title":"GPIO","text":""},{"location":"reference/models/#aiopikvm.GPIOState","title":"<code>GPIOState</code>","text":"<p>GPIO subsystem state.</p> Source code in <code>src/aiopikvm/models/gpio.py</code> <pre><code>class GPIOState(_Base):\n    \"\"\"GPIO subsystem state.\"\"\"\n\n    inputs: dict[str, GPIOInput]\n    outputs: dict[str, GPIOChannel]\n</code></pre>"},{"location":"reference/models/#aiopikvm.GPIOChannel","title":"<code>GPIOChannel</code>","text":"<p>GPIO output channel state.</p> Source code in <code>src/aiopikvm/models/gpio.py</code> <pre><code>class GPIOChannel(_Base):\n    \"\"\"GPIO output channel state.\"\"\"\n\n    online: bool\n    state: bool\n    busy: bool\n</code></pre>"},{"location":"reference/models/#aiopikvm.GPIOInput","title":"<code>GPIOInput</code>","text":"<p>GPIO input channel state.</p> Source code in <code>src/aiopikvm/models/gpio.py</code> <pre><code>class GPIOInput(_Base):\n    \"\"\"GPIO input channel state.\"\"\"\n\n    online: bool\n    state: bool\n</code></pre>"},{"location":"reference/models/#streamer","title":"Streamer","text":""},{"location":"reference/models/#aiopikvm.StreamerState","title":"<code>StreamerState</code>","text":"<p>Streamer subsystem state.</p> Source code in <code>src/aiopikvm/models/streamer.py</code> <pre><code>class StreamerState(_Base):\n    \"\"\"Streamer subsystem state.\"\"\"\n\n    enabled: bool\n    source: StreamerSource\n</code></pre>"},{"location":"reference/models/#aiopikvm.StreamerSource","title":"<code>StreamerSource</code>","text":"<p>Streamer video source state.</p> Source code in <code>src/aiopikvm/models/streamer.py</code> <pre><code>class StreamerSource(_Base):\n    \"\"\"Streamer video source state.\"\"\"\n\n    online: bool\n    resolution: Resolution | None = None\n</code></pre>"},{"location":"reference/models/#aiopikvm.Resolution","title":"<code>Resolution</code>","text":"<p>Video resolution.</p> Source code in <code>src/aiopikvm/models/streamer.py</code> <pre><code>class Resolution(_Base):\n    \"\"\"Video resolution.\"\"\"\n\n    width: int\n    height: int\n</code></pre>"},{"location":"reference/models/#aiopikvm.OCRResult","title":"<code>OCRResult</code>","text":"<p>OCR recognition result.</p> Source code in <code>src/aiopikvm/models/streamer.py</code> <pre><code>class OCRResult(_Base):\n    \"\"\"OCR recognition result.\"\"\"\n\n    ocr: str\n</code></pre>"},{"location":"reference/models/#switch","title":"Switch","text":""},{"location":"reference/models/#aiopikvm.SwitchState","title":"<code>SwitchState</code>","text":"<p>KVM switch state.</p> Source code in <code>src/aiopikvm/models/switch.py</code> <pre><code>class SwitchState(_Base):\n    \"\"\"KVM switch state.\"\"\"\n\n    active: str\n    ports: dict[str, SwitchPort]\n</code></pre>"},{"location":"reference/models/#aiopikvm.SwitchPort","title":"<code>SwitchPort</code>","text":"<p>KVM switch port.</p> Source code in <code>src/aiopikvm/models/switch.py</code> <pre><code>class SwitchPort(_Base):\n    \"\"\"KVM switch port.\"\"\"\n\n    name: str\n</code></pre>"},{"location":"reference/models/#aiopikvm.EDID","title":"<code>EDID</code>","text":"<p>EDID profile.</p> Source code in <code>src/aiopikvm/models/switch.py</code> <pre><code>class EDID(_Base):\n    \"\"\"EDID profile.\"\"\"\n\n    id: str\n    data: str\n    description: str | None = None\n</code></pre>"},{"location":"reference/ws/","title":"PiKVMWebSocket","text":""},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket","title":"<code>PiKVMWebSocket</code>","text":"<p>WebSocket client for PiKVM realtime events and HID input.</p> <p>Usage::</p> <pre><code>async with kvm.ws() as ws:\n    async for event in ws.events():\n        print(event)\n</code></pre> Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>class PiKVMWebSocket:\n    \"\"\"WebSocket client for PiKVM realtime events and HID input.\n\n    Usage::\n\n        async with kvm.ws() as ws:\n            async for event in ws.events():\n                print(event)\n    \"\"\"\n\n    def __init__(\n        self,\n        url: str,\n        *,\n        user: str,\n        passwd: str,\n        verify_ssl: bool = True,\n        stream: int = 0,\n        open_timeout: float = 10.0,\n        close_timeout: float = 10.0,\n    ) -&gt; None:\n        parsed = urlparse(url)\n        scheme_map = {\"https\": \"wss\", \"http\": \"ws\"}\n        ws_scheme = scheme_map.get(parsed.scheme, \"\")\n        if not ws_scheme:\n            raise ValueError(f\"Unsupported URL scheme: {parsed.scheme!r}\")\n        ws_url = urlunparse(parsed._replace(scheme=ws_scheme))\n        self._url = f\"{ws_url}/api/ws?stream={stream}\"\n        self._user = user\n        self._passwd = passwd\n        self._verify_ssl = verify_ssl\n        self._open_timeout = open_timeout\n        self._close_timeout = close_timeout\n        self._connection: websockets.asyncio.client.ClientConnection | None = None\n\n    async def __aenter__(self) -&gt; Self:\n        ssl_context: ssl.SSLContext | bool | None = None\n        if self._url.startswith(\"wss://\"):\n            if not self._verify_ssl:\n                ssl_context = ssl.SSLContext(ssl.PROTOCOL_TLS_CLIENT)\n                ssl_context.check_hostname = False\n                ssl_context.verify_mode = ssl.CERT_NONE\n            else:\n                ssl_context = True\n\n        headers = {\n            \"X-KVMD-User\": self._user,\n            \"X-KVMD-Passwd\": self._passwd,\n        }\n\n        try:\n            self._connection = await websockets.asyncio.client.connect(\n                self._url,\n                additional_headers=headers,\n                ssl=ssl_context,\n                open_timeout=self._open_timeout,\n                close_timeout=self._close_timeout,\n            )\n        except (OSError, websockets.exceptions.WebSocketException) as exc:\n            raise WebSocketError(f\"Failed to connect: {exc}\") from exc\n\n        return self\n\n    async def __aexit__(\n        self,\n        exc_type: type[BaseException] | None,\n        exc_val: BaseException | None,\n        exc_tb: TracebackType | None,\n    ) -&gt; None:\n        if self._connection is not None:\n            await self._connection.close()\n            self._connection = None\n\n    def _ensure_connected(self) -&gt; websockets.asyncio.client.ClientConnection:\n        \"\"\"Return the active connection or raise.\"\"\"\n        if self._connection is None:\n            raise WebSocketError(\"Not connected\")\n        return self._connection\n\n    async def events(self) -&gt; AsyncIterator[dict[str, Any]]:\n        \"\"\"Iterate over incoming events.\n\n        Yields:\n            Parsed JSON event dictionaries.\n        \"\"\"\n        conn = self._ensure_connected()\n        try:\n            async for message in conn:\n                try:\n                    if isinstance(message, str):\n                        yield json.loads(message)\n                    else:\n                        yield json.loads(message.decode())\n                except (json.JSONDecodeError, UnicodeDecodeError) as exc:\n                    logger.warning(\"Skipping malformed WebSocket message: %s\", exc)\n        except websockets.exceptions.ConnectionClosed:\n            return\n\n    async def send_key(self, key: str, *, state: bool) -&gt; None:\n        \"\"\"Send a keyboard key event.\n\n        Args:\n            key: Key name.\n            state: ``True`` for press, ``False`` for release.\n        \"\"\"\n        conn = self._ensure_connected()\n        event = {\n            \"event_type\": \"key\",\n            \"event\": {\"key\": key, \"state\": state},\n        }\n        await conn.send(json.dumps(event))\n\n    async def send_mouse_move(self, to_x: int, to_y: int) -&gt; None:\n        \"\"\"Move the mouse to absolute coordinates.\n\n        Args:\n            to_x: Target X coordinate.\n            to_y: Target Y coordinate.\n        \"\"\"\n        conn = self._ensure_connected()\n        event = {\n            \"event_type\": \"mouse_move\",\n            \"event\": {\"to\": {\"x\": to_x, \"y\": to_y}},\n        }\n        await conn.send(json.dumps(event))\n\n    async def send_mouse_button(self, button: str, state: bool) -&gt; None:\n        \"\"\"Send a mouse button event.\n\n        Args:\n            button: Button name (e.g. ``\"left\"``).\n            state: ``True`` for press, ``False`` for release.\n        \"\"\"\n        conn = self._ensure_connected()\n        event = {\n            \"event_type\": \"mouse_button\",\n            \"event\": {\"button\": button, \"state\": state},\n        }\n        await conn.send(json.dumps(event))\n\n    async def send_mouse_wheel(self, delta_x: int, delta_y: int) -&gt; None:\n        \"\"\"Send a mouse wheel event.\n\n        Args:\n            delta_x: Horizontal scroll delta.\n            delta_y: Vertical scroll delta.\n        \"\"\"\n        conn = self._ensure_connected()\n        event = {\n            \"event_type\": \"mouse_wheel\",\n            \"event\": {\"delta\": {\"x\": delta_x, \"y\": delta_y}},\n        }\n        await conn.send(json.dumps(event))\n\n    async def ping(self) -&gt; None:\n        \"\"\"Send a ping event.\"\"\"\n        conn = self._ensure_connected()\n        await conn.send(json.dumps({\"event_type\": \"ping\", \"event\": {}}))\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.events","title":"<code>events()</code>  <code>async</code>","text":"<p>Iterate over incoming events.</p> <p>Yields:</p> Type Description <code>AsyncIterator[dict[str, Any]]</code> <p>Parsed JSON event dictionaries.</p> Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def events(self) -&gt; AsyncIterator[dict[str, Any]]:\n    \"\"\"Iterate over incoming events.\n\n    Yields:\n        Parsed JSON event dictionaries.\n    \"\"\"\n    conn = self._ensure_connected()\n    try:\n        async for message in conn:\n            try:\n                if isinstance(message, str):\n                    yield json.loads(message)\n                else:\n                    yield json.loads(message.decode())\n            except (json.JSONDecodeError, UnicodeDecodeError) as exc:\n                logger.warning(\"Skipping malformed WebSocket message: %s\", exc)\n    except websockets.exceptions.ConnectionClosed:\n        return\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.send_key","title":"<code>send_key(key, *, state)</code>  <code>async</code>","text":"<p>Send a keyboard key event.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>Key name.</p> required <code>state</code> <code>bool</code> <p><code>True</code> for press, <code>False</code> for release.</p> required Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def send_key(self, key: str, *, state: bool) -&gt; None:\n    \"\"\"Send a keyboard key event.\n\n    Args:\n        key: Key name.\n        state: ``True`` for press, ``False`` for release.\n    \"\"\"\n    conn = self._ensure_connected()\n    event = {\n        \"event_type\": \"key\",\n        \"event\": {\"key\": key, \"state\": state},\n    }\n    await conn.send(json.dumps(event))\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.send_mouse_move","title":"<code>send_mouse_move(to_x, to_y)</code>  <code>async</code>","text":"<p>Move the mouse to absolute coordinates.</p> <p>Parameters:</p> Name Type Description Default <code>to_x</code> <code>int</code> <p>Target X coordinate.</p> required <code>to_y</code> <code>int</code> <p>Target Y coordinate.</p> required Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def send_mouse_move(self, to_x: int, to_y: int) -&gt; None:\n    \"\"\"Move the mouse to absolute coordinates.\n\n    Args:\n        to_x: Target X coordinate.\n        to_y: Target Y coordinate.\n    \"\"\"\n    conn = self._ensure_connected()\n    event = {\n        \"event_type\": \"mouse_move\",\n        \"event\": {\"to\": {\"x\": to_x, \"y\": to_y}},\n    }\n    await conn.send(json.dumps(event))\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.send_mouse_button","title":"<code>send_mouse_button(button, state)</code>  <code>async</code>","text":"<p>Send a mouse button event.</p> <p>Parameters:</p> Name Type Description Default <code>button</code> <code>str</code> <p>Button name (e.g. <code>\"left\"</code>).</p> required <code>state</code> <code>bool</code> <p><code>True</code> for press, <code>False</code> for release.</p> required Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def send_mouse_button(self, button: str, state: bool) -&gt; None:\n    \"\"\"Send a mouse button event.\n\n    Args:\n        button: Button name (e.g. ``\"left\"``).\n        state: ``True`` for press, ``False`` for release.\n    \"\"\"\n    conn = self._ensure_connected()\n    event = {\n        \"event_type\": \"mouse_button\",\n        \"event\": {\"button\": button, \"state\": state},\n    }\n    await conn.send(json.dumps(event))\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.send_mouse_wheel","title":"<code>send_mouse_wheel(delta_x, delta_y)</code>  <code>async</code>","text":"<p>Send a mouse wheel event.</p> <p>Parameters:</p> Name Type Description Default <code>delta_x</code> <code>int</code> <p>Horizontal scroll delta.</p> required <code>delta_y</code> <code>int</code> <p>Vertical scroll delta.</p> required Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def send_mouse_wheel(self, delta_x: int, delta_y: int) -&gt; None:\n    \"\"\"Send a mouse wheel event.\n\n    Args:\n        delta_x: Horizontal scroll delta.\n        delta_y: Vertical scroll delta.\n    \"\"\"\n    conn = self._ensure_connected()\n    event = {\n        \"event_type\": \"mouse_wheel\",\n        \"event\": {\"delta\": {\"x\": delta_x, \"y\": delta_y}},\n    }\n    await conn.send(json.dumps(event))\n</code></pre>"},{"location":"reference/ws/#aiopikvm.PiKVMWebSocket.ping","title":"<code>ping()</code>  <code>async</code>","text":"<p>Send a ping event.</p> Source code in <code>src/aiopikvm/_ws.py</code> <pre><code>async def ping(self) -&gt; None:\n    \"\"\"Send a ping event.\"\"\"\n    conn = self._ensure_connected()\n    await conn.send(json.dumps({\"event_type\": \"ping\", \"event\": {}}))\n</code></pre>"},{"location":"reference/resources/atx/","title":"ATXResource","text":""},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource","title":"<code>ATXResource</code>","text":"<p>ATX power management for the host machine.</p> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>class ATXResource(BaseResource):\n    \"\"\"ATX power management for the host machine.\"\"\"\n\n    async def get_state(self) -&gt; ATXState:\n        \"\"\"Get the current ATX state.\n\n        Returns:\n            Current ATX subsystem state including LED indicators.\n        \"\"\"\n        result = await self._get(\"/api/atx\")\n        return ATXState.model_validate(result)\n\n    async def click_power(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Click the power button.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\n            \"/api/atx/click\", params={\"button\": \"power\", \"wait\": int(wait)}\n        )\n\n    async def click_power_long(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Long-press the power button.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\n            \"/api/atx/click\", params={\"button\": \"power_long\", \"wait\": int(wait)}\n        )\n\n    async def click_reset(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Click the reset button.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\n            \"/api/atx/click\", params={\"button\": \"reset\", \"wait\": int(wait)}\n        )\n\n    async def power_on(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Power on the host.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\"/api/atx/power\", params={\"action\": \"on\", \"wait\": int(wait)})\n\n    async def power_off(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Power off the host gracefully.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\"/api/atx/power\", params={\"action\": \"off\", \"wait\": int(wait)})\n\n    async def power_off_hard(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Force power off the host.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\n            \"/api/atx/power\", params={\"action\": \"off_hard\", \"wait\": int(wait)}\n        )\n\n    async def reset_hard(self, *, wait: bool = True) -&gt; None:\n        \"\"\"Force reset the host.\n\n        Args:\n            wait: Wait for the operation to complete.\n        \"\"\"\n        await self._post(\n            \"/api/atx/power\", params={\"action\": \"reset_hard\", \"wait\": int(wait)}\n        )\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current ATX state.</p> <p>Returns:</p> Type Description <code>ATXState</code> <p>Current ATX subsystem state including LED indicators.</p> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def get_state(self) -&gt; ATXState:\n    \"\"\"Get the current ATX state.\n\n    Returns:\n        Current ATX subsystem state including LED indicators.\n    \"\"\"\n    result = await self._get(\"/api/atx\")\n    return ATXState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.click_power","title":"<code>click_power(*, wait=True)</code>  <code>async</code>","text":"<p>Click the power button.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def click_power(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Click the power button.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\n        \"/api/atx/click\", params={\"button\": \"power\", \"wait\": int(wait)}\n    )\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.click_power_long","title":"<code>click_power_long(*, wait=True)</code>  <code>async</code>","text":"<p>Long-press the power button.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def click_power_long(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Long-press the power button.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\n        \"/api/atx/click\", params={\"button\": \"power_long\", \"wait\": int(wait)}\n    )\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.click_reset","title":"<code>click_reset(*, wait=True)</code>  <code>async</code>","text":"<p>Click the reset button.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def click_reset(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Click the reset button.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\n        \"/api/atx/click\", params={\"button\": \"reset\", \"wait\": int(wait)}\n    )\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.power_on","title":"<code>power_on(*, wait=True)</code>  <code>async</code>","text":"<p>Power on the host.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def power_on(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Power on the host.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\"/api/atx/power\", params={\"action\": \"on\", \"wait\": int(wait)})\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.power_off","title":"<code>power_off(*, wait=True)</code>  <code>async</code>","text":"<p>Power off the host gracefully.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def power_off(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Power off the host gracefully.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\"/api/atx/power\", params={\"action\": \"off\", \"wait\": int(wait)})\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.power_off_hard","title":"<code>power_off_hard(*, wait=True)</code>  <code>async</code>","text":"<p>Force power off the host.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def power_off_hard(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Force power off the host.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\n        \"/api/atx/power\", params={\"action\": \"off_hard\", \"wait\": int(wait)}\n    )\n</code></pre>"},{"location":"reference/resources/atx/#aiopikvm.resources.atx.ATXResource.reset_hard","title":"<code>reset_hard(*, wait=True)</code>  <code>async</code>","text":"<p>Force reset the host.</p> <p>Parameters:</p> Name Type Description Default <code>wait</code> <code>bool</code> <p>Wait for the operation to complete.</p> <code>True</code> Source code in <code>src/aiopikvm/resources/atx.py</code> <pre><code>async def reset_hard(self, *, wait: bool = True) -&gt; None:\n    \"\"\"Force reset the host.\n\n    Args:\n        wait: Wait for the operation to complete.\n    \"\"\"\n    await self._post(\n        \"/api/atx/power\", params={\"action\": \"reset_hard\", \"wait\": int(wait)}\n    )\n</code></pre>"},{"location":"reference/resources/auth/","title":"AuthResource","text":""},{"location":"reference/resources/auth/#aiopikvm.resources.auth.AuthResource","title":"<code>AuthResource</code>","text":"<p>Session-based authentication for PiKVM.</p> Source code in <code>src/aiopikvm/resources/auth.py</code> <pre><code>class AuthResource(BaseResource):\n    \"\"\"Session-based authentication for PiKVM.\"\"\"\n\n    async def login(self, user: str, passwd: str, totp: str | None = None) -&gt; Any:\n        \"\"\"Log in with credentials.\n\n        Args:\n            user: Username.\n            passwd: Password.\n            totp: Optional TOTP code (concatenated to password).\n\n        Returns:\n            The login result from the API.\n        \"\"\"\n        password = passwd if totp is None else f\"{passwd}{totp}\"\n        return await self._post(\n            \"/api/auth/login\",\n            json={\"user\": user, \"passwd\": password},\n        )\n\n    async def check(self) -&gt; Any:\n        \"\"\"Check authentication status.\n\n        Returns:\n            The auth check result from the API.\n        \"\"\"\n        return await self._get(\"/api/auth/check\")\n\n    async def logout(self) -&gt; Any:\n        \"\"\"Log out of the current session.\n\n        Returns:\n            The logout result from the API.\n        \"\"\"\n        return await self._post(\"/api/auth/logout\")\n</code></pre>"},{"location":"reference/resources/auth/#aiopikvm.resources.auth.AuthResource.login","title":"<code>login(user, passwd, totp=None)</code>  <code>async</code>","text":"<p>Log in with credentials.</p> <p>Parameters:</p> Name Type Description Default <code>user</code> <code>str</code> <p>Username.</p> required <code>passwd</code> <code>str</code> <p>Password.</p> required <code>totp</code> <code>str | None</code> <p>Optional TOTP code (concatenated to password).</p> <code>None</code> <p>Returns:</p> Type Description <code>Any</code> <p>The login result from the API.</p> Source code in <code>src/aiopikvm/resources/auth.py</code> <pre><code>async def login(self, user: str, passwd: str, totp: str | None = None) -&gt; Any:\n    \"\"\"Log in with credentials.\n\n    Args:\n        user: Username.\n        passwd: Password.\n        totp: Optional TOTP code (concatenated to password).\n\n    Returns:\n        The login result from the API.\n    \"\"\"\n    password = passwd if totp is None else f\"{passwd}{totp}\"\n    return await self._post(\n        \"/api/auth/login\",\n        json={\"user\": user, \"passwd\": password},\n    )\n</code></pre>"},{"location":"reference/resources/auth/#aiopikvm.resources.auth.AuthResource.check","title":"<code>check()</code>  <code>async</code>","text":"<p>Check authentication status.</p> <p>Returns:</p> Type Description <code>Any</code> <p>The auth check result from the API.</p> Source code in <code>src/aiopikvm/resources/auth.py</code> <pre><code>async def check(self) -&gt; Any:\n    \"\"\"Check authentication status.\n\n    Returns:\n        The auth check result from the API.\n    \"\"\"\n    return await self._get(\"/api/auth/check\")\n</code></pre>"},{"location":"reference/resources/auth/#aiopikvm.resources.auth.AuthResource.logout","title":"<code>logout()</code>  <code>async</code>","text":"<p>Log out of the current session.</p> <p>Returns:</p> Type Description <code>Any</code> <p>The logout result from the API.</p> Source code in <code>src/aiopikvm/resources/auth.py</code> <pre><code>async def logout(self) -&gt; Any:\n    \"\"\"Log out of the current session.\n\n    Returns:\n        The logout result from the API.\n    \"\"\"\n    return await self._post(\"/api/auth/logout\")\n</code></pre>"},{"location":"reference/resources/gpio/","title":"GPIOResource","text":""},{"location":"reference/resources/gpio/#aiopikvm.resources.gpio.GPIOResource","title":"<code>GPIOResource</code>","text":"<p>GPIO channel management for PiKVM.</p> Source code in <code>src/aiopikvm/resources/gpio.py</code> <pre><code>class GPIOResource(BaseResource):\n    \"\"\"GPIO channel management for PiKVM.\"\"\"\n\n    async def get_state(self) -&gt; GPIOState:\n        \"\"\"Get the current GPIO state.\n\n        Returns:\n            Current GPIO subsystem state with inputs and outputs.\n        \"\"\"\n        result = await self._get(\"/api/gpio\")\n        return GPIOState.model_validate(result)\n\n    async def switch(self, channel: str, state: bool) -&gt; None:\n        \"\"\"Set a GPIO output channel state.\n\n        Args:\n            channel: Channel name.\n            state: Desired state (``True`` = on, ``False`` = off).\n        \"\"\"\n        await self._post(\n            \"/api/gpio/switch\",\n            params={\"channel\": channel, \"state\": int(state)},\n        )\n\n    async def pulse(self, channel: str, delay: float | None = None) -&gt; None:\n        \"\"\"Send a pulse to a GPIO channel.\n\n        Args:\n            channel: Channel name.\n            delay: Pulse duration in seconds (``None`` = server default).\n        \"\"\"\n        params: dict[str, str | float] = {\"channel\": channel}\n        if delay is not None:\n            params[\"delay\"] = delay\n        await self._post(\"/api/gpio/pulse\", params=params)\n</code></pre>"},{"location":"reference/resources/gpio/#aiopikvm.resources.gpio.GPIOResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current GPIO state.</p> <p>Returns:</p> Type Description <code>GPIOState</code> <p>Current GPIO subsystem state with inputs and outputs.</p> Source code in <code>src/aiopikvm/resources/gpio.py</code> <pre><code>async def get_state(self) -&gt; GPIOState:\n    \"\"\"Get the current GPIO state.\n\n    Returns:\n        Current GPIO subsystem state with inputs and outputs.\n    \"\"\"\n    result = await self._get(\"/api/gpio\")\n    return GPIOState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/gpio/#aiopikvm.resources.gpio.GPIOResource.switch","title":"<code>switch(channel, state)</code>  <code>async</code>","text":"<p>Set a GPIO output channel state.</p> <p>Parameters:</p> Name Type Description Default <code>channel</code> <code>str</code> <p>Channel name.</p> required <code>state</code> <code>bool</code> <p>Desired state (<code>True</code> = on, <code>False</code> = off).</p> required Source code in <code>src/aiopikvm/resources/gpio.py</code> <pre><code>async def switch(self, channel: str, state: bool) -&gt; None:\n    \"\"\"Set a GPIO output channel state.\n\n    Args:\n        channel: Channel name.\n        state: Desired state (``True`` = on, ``False`` = off).\n    \"\"\"\n    await self._post(\n        \"/api/gpio/switch\",\n        params={\"channel\": channel, \"state\": int(state)},\n    )\n</code></pre>"},{"location":"reference/resources/gpio/#aiopikvm.resources.gpio.GPIOResource.pulse","title":"<code>pulse(channel, delay=None)</code>  <code>async</code>","text":"<p>Send a pulse to a GPIO channel.</p> <p>Parameters:</p> Name Type Description Default <code>channel</code> <code>str</code> <p>Channel name.</p> required <code>delay</code> <code>float | None</code> <p>Pulse duration in seconds (<code>None</code> = server default).</p> <code>None</code> Source code in <code>src/aiopikvm/resources/gpio.py</code> <pre><code>async def pulse(self, channel: str, delay: float | None = None) -&gt; None:\n    \"\"\"Send a pulse to a GPIO channel.\n\n    Args:\n        channel: Channel name.\n        delay: Pulse duration in seconds (``None`` = server default).\n    \"\"\"\n    params: dict[str, str | float] = {\"channel\": channel}\n    if delay is not None:\n        params[\"delay\"] = delay\n    await self._post(\"/api/gpio/pulse\", params=params)\n</code></pre>"},{"location":"reference/resources/hid/","title":"HIDResource","text":""},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource","title":"<code>HIDResource</code>","text":"<p>HID keyboard and mouse control for PiKVM.</p> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>class HIDResource(BaseResource):\n    \"\"\"HID keyboard and mouse control for PiKVM.\"\"\"\n\n    async def get_state(self) -&gt; HIDState:\n        \"\"\"Get the current HID state.\n\n        Returns:\n            Current HID subsystem state.\n        \"\"\"\n        result = await self._get(\"/api/hid\")\n        return HIDState.model_validate(result)\n\n    async def set_params(\n        self,\n        *,\n        keyboard_output: str | None = None,\n        mouse_output: str | None = None,\n    ) -&gt; None:\n        \"\"\"Set HID output parameters.\n\n        Args:\n            keyboard_output: Keyboard output type.\n            mouse_output: Mouse output type.\n        \"\"\"\n        params: dict[str, str] = {}\n        if keyboard_output is not None:\n            params[\"keyboard_output\"] = keyboard_output\n        if mouse_output is not None:\n            params[\"mouse_output\"] = mouse_output\n        await self._post(\"/api/hid/set_params\", params=params)\n\n    async def set_connected(self, connected: bool) -&gt; None:\n        \"\"\"Set the HID connection state.\n\n        Args:\n            connected: Whether HID should be connected.\n        \"\"\"\n        await self._post(\"/api/hid/set_connected\", params={\"connected\": int(connected)})\n\n    async def reset(self) -&gt; None:\n        \"\"\"Reset the HID subsystem.\"\"\"\n        await self._post(\"/api/hid/reset\")\n\n    async def get_keymaps(self) -&gt; dict[str, Any]:\n        \"\"\"Get available keyboard keymaps.\n\n        Returns:\n            Dictionary of available keymaps.\n        \"\"\"\n        result: dict[str, Any] = await self._get(\"/api/hid/keymaps\")\n        return result\n\n    async def type_text(self, text: str, *, limit: int = 0) -&gt; None:\n        \"\"\"Type text via HID keyboard.\n\n        Args:\n            text: Text string to type.\n            limit: Maximum characters per request (``0`` = unlimited).\n        \"\"\"\n        params: dict[str, int] = {}\n        if limit &gt; 0:\n            params[\"limit\"] = limit\n        await self._post(\n            \"/api/hid/print\",\n            content=text.encode(),\n            headers={\"Content-Type\": \"text/plain\"},\n            params=params if params else None,\n        )\n\n    async def send_key(self, key: str, *, state: bool | None = None) -&gt; None:\n        \"\"\"Send a single key event.\n\n        Args:\n            key: Key name.\n            state: Key state (``True`` = press, ``False`` = release,\n                ``None`` = press and release).\n        \"\"\"\n        params: dict[str, Any] = {\"key\": key}\n        if state is not None:\n            params[\"state\"] = int(state)\n        await self._post(\"/api/hid/events/send_key\", params=params)\n\n    async def send_shortcut(self, *keys: str, wait: int = 0) -&gt; None:\n        \"\"\"Send a keyboard shortcut.\n\n        Args:\n            *keys: Key names to press simultaneously.\n            wait: Delay between key events in milliseconds.\n        \"\"\"\n        params: dict[str, Any] = {}\n        if wait &gt; 0:\n            params[\"wait\"] = wait\n        await self._post(\n            \"/api/hid/events/send_shortcut\",\n            params={**params, \"key\": list(keys)},\n        )\n\n    async def send_mouse_button(\n        self, button: str, *, state: bool | None = None\n    ) -&gt; None:\n        \"\"\"Send a mouse button event.\n\n        Args:\n            button: Button name (e.g. ``\"left\"``, ``\"right\"``).\n            state: Button state (``True`` = press, ``False`` = release,\n                ``None`` = click).\n        \"\"\"\n        params: dict[str, Any] = {\"button\": button}\n        if state is not None:\n            params[\"state\"] = int(state)\n        await self._post(\"/api/hid/events/send_mouse_button\", params=params)\n\n    async def send_mouse_move(self, to_x: int, to_y: int) -&gt; None:\n        \"\"\"Move the mouse to absolute coordinates.\n\n        Args:\n            to_x: Target X coordinate.\n            to_y: Target Y coordinate.\n        \"\"\"\n        await self._post(\n            \"/api/hid/events/send_mouse_move\",\n            params={\"to_x\": to_x, \"to_y\": to_y},\n        )\n\n    async def send_mouse_relative(self, delta_x: int, delta_y: int) -&gt; None:\n        \"\"\"Move the mouse by relative offset.\n\n        Args:\n            delta_x: Horizontal offset.\n            delta_y: Vertical offset.\n        \"\"\"\n        await self._post(\n            \"/api/hid/events/send_mouse_relative\",\n            params={\"delta_x\": delta_x, \"delta_y\": delta_y},\n        )\n\n    async def send_mouse_wheel(self, delta_x: int, delta_y: int) -&gt; None:\n        \"\"\"Send a mouse wheel event.\n\n        Args:\n            delta_x: Horizontal scroll delta.\n            delta_y: Vertical scroll delta.\n        \"\"\"\n        await self._post(\n            \"/api/hid/events/send_mouse_wheel\",\n            params={\"delta_x\": delta_x, \"delta_y\": delta_y},\n        )\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current HID state.</p> <p>Returns:</p> Type Description <code>HIDState</code> <p>Current HID subsystem state.</p> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def get_state(self) -&gt; HIDState:\n    \"\"\"Get the current HID state.\n\n    Returns:\n        Current HID subsystem state.\n    \"\"\"\n    result = await self._get(\"/api/hid\")\n    return HIDState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.set_params","title":"<code>set_params(*, keyboard_output=None, mouse_output=None)</code>  <code>async</code>","text":"<p>Set HID output parameters.</p> <p>Parameters:</p> Name Type Description Default <code>keyboard_output</code> <code>str | None</code> <p>Keyboard output type.</p> <code>None</code> <code>mouse_output</code> <code>str | None</code> <p>Mouse output type.</p> <code>None</code> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def set_params(\n    self,\n    *,\n    keyboard_output: str | None = None,\n    mouse_output: str | None = None,\n) -&gt; None:\n    \"\"\"Set HID output parameters.\n\n    Args:\n        keyboard_output: Keyboard output type.\n        mouse_output: Mouse output type.\n    \"\"\"\n    params: dict[str, str] = {}\n    if keyboard_output is not None:\n        params[\"keyboard_output\"] = keyboard_output\n    if mouse_output is not None:\n        params[\"mouse_output\"] = mouse_output\n    await self._post(\"/api/hid/set_params\", params=params)\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.set_connected","title":"<code>set_connected(connected)</code>  <code>async</code>","text":"<p>Set the HID connection state.</p> <p>Parameters:</p> Name Type Description Default <code>connected</code> <code>bool</code> <p>Whether HID should be connected.</p> required Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def set_connected(self, connected: bool) -&gt; None:\n    \"\"\"Set the HID connection state.\n\n    Args:\n        connected: Whether HID should be connected.\n    \"\"\"\n    await self._post(\"/api/hid/set_connected\", params={\"connected\": int(connected)})\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.reset","title":"<code>reset()</code>  <code>async</code>","text":"<p>Reset the HID subsystem.</p> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def reset(self) -&gt; None:\n    \"\"\"Reset the HID subsystem.\"\"\"\n    await self._post(\"/api/hid/reset\")\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.get_keymaps","title":"<code>get_keymaps()</code>  <code>async</code>","text":"<p>Get available keyboard keymaps.</p> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Dictionary of available keymaps.</p> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def get_keymaps(self) -&gt; dict[str, Any]:\n    \"\"\"Get available keyboard keymaps.\n\n    Returns:\n        Dictionary of available keymaps.\n    \"\"\"\n    result: dict[str, Any] = await self._get(\"/api/hid/keymaps\")\n    return result\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.type_text","title":"<code>type_text(text, *, limit=0)</code>  <code>async</code>","text":"<p>Type text via HID keyboard.</p> <p>Parameters:</p> Name Type Description Default <code>text</code> <code>str</code> <p>Text string to type.</p> required <code>limit</code> <code>int</code> <p>Maximum characters per request (<code>0</code> = unlimited).</p> <code>0</code> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def type_text(self, text: str, *, limit: int = 0) -&gt; None:\n    \"\"\"Type text via HID keyboard.\n\n    Args:\n        text: Text string to type.\n        limit: Maximum characters per request (``0`` = unlimited).\n    \"\"\"\n    params: dict[str, int] = {}\n    if limit &gt; 0:\n        params[\"limit\"] = limit\n    await self._post(\n        \"/api/hid/print\",\n        content=text.encode(),\n        headers={\"Content-Type\": \"text/plain\"},\n        params=params if params else None,\n    )\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_key","title":"<code>send_key(key, *, state=None)</code>  <code>async</code>","text":"<p>Send a single key event.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>Key name.</p> required <code>state</code> <code>bool | None</code> <p>Key state (<code>True</code> = press, <code>False</code> = release, <code>None</code> = press and release).</p> <code>None</code> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_key(self, key: str, *, state: bool | None = None) -&gt; None:\n    \"\"\"Send a single key event.\n\n    Args:\n        key: Key name.\n        state: Key state (``True`` = press, ``False`` = release,\n            ``None`` = press and release).\n    \"\"\"\n    params: dict[str, Any] = {\"key\": key}\n    if state is not None:\n        params[\"state\"] = int(state)\n    await self._post(\"/api/hid/events/send_key\", params=params)\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_shortcut","title":"<code>send_shortcut(*keys, wait=0)</code>  <code>async</code>","text":"<p>Send a keyboard shortcut.</p> <p>Parameters:</p> Name Type Description Default <code>*keys</code> <code>str</code> <p>Key names to press simultaneously.</p> <code>()</code> <code>wait</code> <code>int</code> <p>Delay between key events in milliseconds.</p> <code>0</code> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_shortcut(self, *keys: str, wait: int = 0) -&gt; None:\n    \"\"\"Send a keyboard shortcut.\n\n    Args:\n        *keys: Key names to press simultaneously.\n        wait: Delay between key events in milliseconds.\n    \"\"\"\n    params: dict[str, Any] = {}\n    if wait &gt; 0:\n        params[\"wait\"] = wait\n    await self._post(\n        \"/api/hid/events/send_shortcut\",\n        params={**params, \"key\": list(keys)},\n    )\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_mouse_button","title":"<code>send_mouse_button(button, *, state=None)</code>  <code>async</code>","text":"<p>Send a mouse button event.</p> <p>Parameters:</p> Name Type Description Default <code>button</code> <code>str</code> <p>Button name (e.g. <code>\"left\"</code>, <code>\"right\"</code>).</p> required <code>state</code> <code>bool | None</code> <p>Button state (<code>True</code> = press, <code>False</code> = release, <code>None</code> = click).</p> <code>None</code> Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_mouse_button(\n    self, button: str, *, state: bool | None = None\n) -&gt; None:\n    \"\"\"Send a mouse button event.\n\n    Args:\n        button: Button name (e.g. ``\"left\"``, ``\"right\"``).\n        state: Button state (``True`` = press, ``False`` = release,\n            ``None`` = click).\n    \"\"\"\n    params: dict[str, Any] = {\"button\": button}\n    if state is not None:\n        params[\"state\"] = int(state)\n    await self._post(\"/api/hid/events/send_mouse_button\", params=params)\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_mouse_move","title":"<code>send_mouse_move(to_x, to_y)</code>  <code>async</code>","text":"<p>Move the mouse to absolute coordinates.</p> <p>Parameters:</p> Name Type Description Default <code>to_x</code> <code>int</code> <p>Target X coordinate.</p> required <code>to_y</code> <code>int</code> <p>Target Y coordinate.</p> required Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_mouse_move(self, to_x: int, to_y: int) -&gt; None:\n    \"\"\"Move the mouse to absolute coordinates.\n\n    Args:\n        to_x: Target X coordinate.\n        to_y: Target Y coordinate.\n    \"\"\"\n    await self._post(\n        \"/api/hid/events/send_mouse_move\",\n        params={\"to_x\": to_x, \"to_y\": to_y},\n    )\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_mouse_relative","title":"<code>send_mouse_relative(delta_x, delta_y)</code>  <code>async</code>","text":"<p>Move the mouse by relative offset.</p> <p>Parameters:</p> Name Type Description Default <code>delta_x</code> <code>int</code> <p>Horizontal offset.</p> required <code>delta_y</code> <code>int</code> <p>Vertical offset.</p> required Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_mouse_relative(self, delta_x: int, delta_y: int) -&gt; None:\n    \"\"\"Move the mouse by relative offset.\n\n    Args:\n        delta_x: Horizontal offset.\n        delta_y: Vertical offset.\n    \"\"\"\n    await self._post(\n        \"/api/hid/events/send_mouse_relative\",\n        params={\"delta_x\": delta_x, \"delta_y\": delta_y},\n    )\n</code></pre>"},{"location":"reference/resources/hid/#aiopikvm.resources.hid.HIDResource.send_mouse_wheel","title":"<code>send_mouse_wheel(delta_x, delta_y)</code>  <code>async</code>","text":"<p>Send a mouse wheel event.</p> <p>Parameters:</p> Name Type Description Default <code>delta_x</code> <code>int</code> <p>Horizontal scroll delta.</p> required <code>delta_y</code> <code>int</code> <p>Vertical scroll delta.</p> required Source code in <code>src/aiopikvm/resources/hid.py</code> <pre><code>async def send_mouse_wheel(self, delta_x: int, delta_y: int) -&gt; None:\n    \"\"\"Send a mouse wheel event.\n\n    Args:\n        delta_x: Horizontal scroll delta.\n        delta_y: Vertical scroll delta.\n    \"\"\"\n    await self._post(\n        \"/api/hid/events/send_mouse_wheel\",\n        params={\"delta_x\": delta_x, \"delta_y\": delta_y},\n    )\n</code></pre>"},{"location":"reference/resources/msd/","title":"MSDResource","text":""},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource","title":"<code>MSDResource</code>","text":"<p>Mass Storage Device management for PiKVM.</p> Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>class MSDResource(BaseResource):\n    \"\"\"Mass Storage Device management for PiKVM.\"\"\"\n\n    async def get_state(self) -&gt; MSDState:\n        \"\"\"Get the current MSD state.\n\n        Returns:\n            Current MSD subsystem state.\n        \"\"\"\n        result = await self._get(\"/api/msd\")\n        return MSDState.model_validate(result)\n\n    async def set_params(\n        self,\n        *,\n        cdrom: bool | None = None,\n        rw: bool | None = None,\n    ) -&gt; None:\n        \"\"\"Set MSD parameters.\n\n        Args:\n            cdrom: Emulate CD-ROM drive.\n            rw: Allow read-write access.\n        \"\"\"\n        params: dict[str, int] = {}\n        if cdrom is not None:\n            params[\"cdrom\"] = int(cdrom)\n        if rw is not None:\n            params[\"rw\"] = int(rw)\n        await self._post(\"/api/msd/set_params\", params=params)\n\n    async def set_connected(self, connected: bool) -&gt; None:\n        \"\"\"Set the MSD connection state.\n\n        Args:\n            connected: Whether MSD should be connected to the host.\n        \"\"\"\n        await self._post(\"/api/msd/set_connected\", params={\"connected\": int(connected)})\n\n    async def upload(\n        self,\n        name: str,\n        data: bytes | AsyncIterator[bytes],\n    ) -&gt; None:\n        \"\"\"Upload a disk image.\n\n        Args:\n            name: Image file name.\n            data: Image data as bytes or an async byte iterator.\n        \"\"\"\n        content = data if isinstance(data, bytes) else _AsyncStream(data)\n        await self._post(\n            \"/api/msd/write\",\n            params={\"image\": name},\n            content=content,\n            headers={\"Content-Type\": \"application/octet-stream\"},\n        )\n\n    async def upload_remote(self, url: str, *, timeout: float = 0) -&gt; None:\n        \"\"\"Upload a disk image from a remote URL.\n\n        Args:\n            url: Remote image URL.\n            timeout: Download timeout in seconds (``0`` = server default).\n        \"\"\"\n        params: dict[str, Any] = {\"url\": url}\n        if timeout &gt; 0:\n            params[\"timeout\"] = timeout\n        await self._post(\"/api/msd/write_remote\", params=params)\n\n    async def remove(self, name: str) -&gt; None:\n        \"\"\"Remove a disk image.\n\n        Args:\n            name: Image file name to remove.\n        \"\"\"\n        await self._post(\"/api/msd/remove\", params={\"image\": name})\n\n    async def reset(self) -&gt; None:\n        \"\"\"Reset the MSD subsystem.\"\"\"\n        await self._post(\"/api/msd/reset\")\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current MSD state.</p> <p>Returns:</p> Type Description <code>MSDState</code> <p>Current MSD subsystem state.</p> Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def get_state(self) -&gt; MSDState:\n    \"\"\"Get the current MSD state.\n\n    Returns:\n        Current MSD subsystem state.\n    \"\"\"\n    result = await self._get(\"/api/msd\")\n    return MSDState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.set_params","title":"<code>set_params(*, cdrom=None, rw=None)</code>  <code>async</code>","text":"<p>Set MSD parameters.</p> <p>Parameters:</p> Name Type Description Default <code>cdrom</code> <code>bool | None</code> <p>Emulate CD-ROM drive.</p> <code>None</code> <code>rw</code> <code>bool | None</code> <p>Allow read-write access.</p> <code>None</code> Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def set_params(\n    self,\n    *,\n    cdrom: bool | None = None,\n    rw: bool | None = None,\n) -&gt; None:\n    \"\"\"Set MSD parameters.\n\n    Args:\n        cdrom: Emulate CD-ROM drive.\n        rw: Allow read-write access.\n    \"\"\"\n    params: dict[str, int] = {}\n    if cdrom is not None:\n        params[\"cdrom\"] = int(cdrom)\n    if rw is not None:\n        params[\"rw\"] = int(rw)\n    await self._post(\"/api/msd/set_params\", params=params)\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.set_connected","title":"<code>set_connected(connected)</code>  <code>async</code>","text":"<p>Set the MSD connection state.</p> <p>Parameters:</p> Name Type Description Default <code>connected</code> <code>bool</code> <p>Whether MSD should be connected to the host.</p> required Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def set_connected(self, connected: bool) -&gt; None:\n    \"\"\"Set the MSD connection state.\n\n    Args:\n        connected: Whether MSD should be connected to the host.\n    \"\"\"\n    await self._post(\"/api/msd/set_connected\", params={\"connected\": int(connected)})\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.upload","title":"<code>upload(name, data)</code>  <code>async</code>","text":"<p>Upload a disk image.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Image file name.</p> required <code>data</code> <code>bytes | AsyncIterator[bytes]</code> <p>Image data as bytes or an async byte iterator.</p> required Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def upload(\n    self,\n    name: str,\n    data: bytes | AsyncIterator[bytes],\n) -&gt; None:\n    \"\"\"Upload a disk image.\n\n    Args:\n        name: Image file name.\n        data: Image data as bytes or an async byte iterator.\n    \"\"\"\n    content = data if isinstance(data, bytes) else _AsyncStream(data)\n    await self._post(\n        \"/api/msd/write\",\n        params={\"image\": name},\n        content=content,\n        headers={\"Content-Type\": \"application/octet-stream\"},\n    )\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.upload_remote","title":"<code>upload_remote(url, *, timeout=0)</code>  <code>async</code>","text":"<p>Upload a disk image from a remote URL.</p> <p>Parameters:</p> Name Type Description Default <code>url</code> <code>str</code> <p>Remote image URL.</p> required <code>timeout</code> <code>float</code> <p>Download timeout in seconds (<code>0</code> = server default).</p> <code>0</code> Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def upload_remote(self, url: str, *, timeout: float = 0) -&gt; None:\n    \"\"\"Upload a disk image from a remote URL.\n\n    Args:\n        url: Remote image URL.\n        timeout: Download timeout in seconds (``0`` = server default).\n    \"\"\"\n    params: dict[str, Any] = {\"url\": url}\n    if timeout &gt; 0:\n        params[\"timeout\"] = timeout\n    await self._post(\"/api/msd/write_remote\", params=params)\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.remove","title":"<code>remove(name)</code>  <code>async</code>","text":"<p>Remove a disk image.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Image file name to remove.</p> required Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def remove(self, name: str) -&gt; None:\n    \"\"\"Remove a disk image.\n\n    Args:\n        name: Image file name to remove.\n    \"\"\"\n    await self._post(\"/api/msd/remove\", params={\"image\": name})\n</code></pre>"},{"location":"reference/resources/msd/#aiopikvm.resources.msd.MSDResource.reset","title":"<code>reset()</code>  <code>async</code>","text":"<p>Reset the MSD subsystem.</p> Source code in <code>src/aiopikvm/resources/msd.py</code> <pre><code>async def reset(self) -&gt; None:\n    \"\"\"Reset the MSD subsystem.\"\"\"\n    await self._post(\"/api/msd/reset\")\n</code></pre>"},{"location":"reference/resources/prometheus/","title":"PrometheusResource","text":""},{"location":"reference/resources/prometheus/#aiopikvm.resources.prometheus.PrometheusResource","title":"<code>PrometheusResource</code>","text":"<p>Prometheus metrics export for PiKVM.</p> Source code in <code>src/aiopikvm/resources/prometheus.py</code> <pre><code>class PrometheusResource(BaseResource):\n    \"\"\"Prometheus metrics export for PiKVM.\"\"\"\n\n    async def get_metrics(self) -&gt; str:\n        \"\"\"Get Prometheus metrics in text exposition format.\n\n        Returns:\n            Prometheus metrics as plain text.\n        \"\"\"\n        response = await self._get_raw(\n            \"/api/export/prometheus/metrics\",\n            accept=\"text/plain\",\n        )\n        return response.text\n</code></pre>"},{"location":"reference/resources/prometheus/#aiopikvm.resources.prometheus.PrometheusResource.get_metrics","title":"<code>get_metrics()</code>  <code>async</code>","text":"<p>Get Prometheus metrics in text exposition format.</p> <p>Returns:</p> Type Description <code>str</code> <p>Prometheus metrics as plain text.</p> Source code in <code>src/aiopikvm/resources/prometheus.py</code> <pre><code>async def get_metrics(self) -&gt; str:\n    \"\"\"Get Prometheus metrics in text exposition format.\n\n    Returns:\n        Prometheus metrics as plain text.\n    \"\"\"\n    response = await self._get_raw(\n        \"/api/export/prometheus/metrics\",\n        accept=\"text/plain\",\n    )\n    return response.text\n</code></pre>"},{"location":"reference/resources/redfish/","title":"RedfishResource","text":""},{"location":"reference/resources/redfish/#aiopikvm.resources.redfish.RedfishResource","title":"<code>RedfishResource</code>","text":"<p>Redfish API for DMTF BMC compatibility.</p> <p>Redfish does not use the standard PiKVM response format, so it calls :pymethod:<code>PiKVM.request</code> directly.</p> Source code in <code>src/aiopikvm/resources/redfish.py</code> <pre><code>class RedfishResource(BaseResource):\n    \"\"\"Redfish API for DMTF BMC compatibility.\n\n    Redfish does not use the standard PiKVM response format,\n    so it calls :pymethod:`PiKVM.request` directly.\n    \"\"\"\n\n    async def reset(self, reset_type: str = \"ForceRestart\") -&gt; dict[str, Any]:\n        \"\"\"Send a Redfish ComputerSystem.Reset action.\n\n        Args:\n            reset_type: The reset type (default ``\"ForceRestart\"``).\n\n        Returns:\n            The JSON response body.\n        \"\"\"\n        response = await self._client.request(\n            \"POST\",\n            \"/api/redfish/v1/Systems/0/Actions/ComputerSystem.Reset\",\n            json={\"ResetType\": reset_type},\n        )\n        try:\n            result: dict[str, Any] = response.json()\n        except (ValueError, TypeError) as exc:\n            raise APIError(f\"Invalid JSON response: {response.text[:200]}\") from exc\n        return result\n</code></pre>"},{"location":"reference/resources/redfish/#aiopikvm.resources.redfish.RedfishResource.reset","title":"<code>reset(reset_type='ForceRestart')</code>  <code>async</code>","text":"<p>Send a Redfish ComputerSystem.Reset action.</p> <p>Parameters:</p> Name Type Description Default <code>reset_type</code> <code>str</code> <p>The reset type (default <code>\"ForceRestart\"</code>).</p> <code>'ForceRestart'</code> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>The JSON response body.</p> Source code in <code>src/aiopikvm/resources/redfish.py</code> <pre><code>async def reset(self, reset_type: str = \"ForceRestart\") -&gt; dict[str, Any]:\n    \"\"\"Send a Redfish ComputerSystem.Reset action.\n\n    Args:\n        reset_type: The reset type (default ``\"ForceRestart\"``).\n\n    Returns:\n        The JSON response body.\n    \"\"\"\n    response = await self._client.request(\n        \"POST\",\n        \"/api/redfish/v1/Systems/0/Actions/ComputerSystem.Reset\",\n        json={\"ResetType\": reset_type},\n    )\n    try:\n        result: dict[str, Any] = response.json()\n    except (ValueError, TypeError) as exc:\n        raise APIError(f\"Invalid JSON response: {response.text[:200]}\") from exc\n    return result\n</code></pre>"},{"location":"reference/resources/streamer/","title":"StreamerResource","text":""},{"location":"reference/resources/streamer/#aiopikvm.resources.streamer.StreamerResource","title":"<code>StreamerResource</code>","text":"<p>Streamer management \u2014 screenshots and OCR for PiKVM.</p> Source code in <code>src/aiopikvm/resources/streamer.py</code> <pre><code>class StreamerResource(BaseResource):\n    \"\"\"Streamer management \u2014 screenshots and OCR for PiKVM.\"\"\"\n\n    async def get_state(self) -&gt; StreamerState:\n        \"\"\"Get the current streamer state.\n\n        Returns:\n            Current streamer subsystem state.\n        \"\"\"\n        result = await self._get(\"/api/streamer\")\n        return StreamerState.model_validate(result)\n\n    async def snapshot(self) -&gt; bytes:\n        \"\"\"Take a JPEG screenshot.\n\n        Returns:\n            Raw JPEG image bytes.\n        \"\"\"\n        response = await self._get_raw(\"/api/streamer/snapshot\", accept=\"image/jpeg\")\n        return response.content\n\n    async def ocr(self) -&gt; str:\n        \"\"\"Perform OCR on the current screen.\n\n        Returns:\n            Recognized text.\n        \"\"\"\n        result = await self._get(\"/api/streamer/ocr\")\n        return OCRResult.model_validate(result).ocr\n\n    async def delete_snapshot(self) -&gt; None:\n        \"\"\"Delete the cached snapshot.\"\"\"\n        await self._delete(\"/api/streamer/snapshot\")\n</code></pre>"},{"location":"reference/resources/streamer/#aiopikvm.resources.streamer.StreamerResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current streamer state.</p> <p>Returns:</p> Type Description <code>StreamerState</code> <p>Current streamer subsystem state.</p> Source code in <code>src/aiopikvm/resources/streamer.py</code> <pre><code>async def get_state(self) -&gt; StreamerState:\n    \"\"\"Get the current streamer state.\n\n    Returns:\n        Current streamer subsystem state.\n    \"\"\"\n    result = await self._get(\"/api/streamer\")\n    return StreamerState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/streamer/#aiopikvm.resources.streamer.StreamerResource.snapshot","title":"<code>snapshot()</code>  <code>async</code>","text":"<p>Take a JPEG screenshot.</p> <p>Returns:</p> Type Description <code>bytes</code> <p>Raw JPEG image bytes.</p> Source code in <code>src/aiopikvm/resources/streamer.py</code> <pre><code>async def snapshot(self) -&gt; bytes:\n    \"\"\"Take a JPEG screenshot.\n\n    Returns:\n        Raw JPEG image bytes.\n    \"\"\"\n    response = await self._get_raw(\"/api/streamer/snapshot\", accept=\"image/jpeg\")\n    return response.content\n</code></pre>"},{"location":"reference/resources/streamer/#aiopikvm.resources.streamer.StreamerResource.ocr","title":"<code>ocr()</code>  <code>async</code>","text":"<p>Perform OCR on the current screen.</p> <p>Returns:</p> Type Description <code>str</code> <p>Recognized text.</p> Source code in <code>src/aiopikvm/resources/streamer.py</code> <pre><code>async def ocr(self) -&gt; str:\n    \"\"\"Perform OCR on the current screen.\n\n    Returns:\n        Recognized text.\n    \"\"\"\n    result = await self._get(\"/api/streamer/ocr\")\n    return OCRResult.model_validate(result).ocr\n</code></pre>"},{"location":"reference/resources/streamer/#aiopikvm.resources.streamer.StreamerResource.delete_snapshot","title":"<code>delete_snapshot()</code>  <code>async</code>","text":"<p>Delete the cached snapshot.</p> Source code in <code>src/aiopikvm/resources/streamer.py</code> <pre><code>async def delete_snapshot(self) -&gt; None:\n    \"\"\"Delete the cached snapshot.\"\"\"\n    await self._delete(\"/api/streamer/snapshot\")\n</code></pre>"},{"location":"reference/resources/switch/","title":"SwitchResource","text":""},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource","title":"<code>SwitchResource</code>","text":"<p>Multi-port KVM switch and EDID management for PiKVM.</p> Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>class SwitchResource(BaseResource):\n    \"\"\"Multi-port KVM switch and EDID management for PiKVM.\"\"\"\n\n    async def get_state(self) -&gt; SwitchState:\n        \"\"\"Get the current switch state.\n\n        Returns:\n            Current switch state with active port and port list.\n        \"\"\"\n        result = await self._get(\"/api/switch\")\n        return SwitchState.model_validate(result)\n\n    async def set_active(self, port: str) -&gt; None:\n        \"\"\"Set the active port.\n\n        Args:\n            port: Port identifier to activate.\n        \"\"\"\n        await self._post(\"/api/switch/set_active\", params={\"port\": port})\n\n    async def get_edids(self) -&gt; list[EDID]:\n        \"\"\"Get all EDID profiles.\n\n        Returns:\n            List of available EDID profiles.\n        \"\"\"\n        result = await self._get(\"/api/switch/edids\")\n        return [EDID.model_validate(e) for e in result.get(\"edids\", [])]\n\n    async def create_edid(\n        self, edid_id: str, data: str, *, description: str = \"\"\n    ) -&gt; None:\n        \"\"\"Create a new EDID profile.\n\n        Args:\n            edid_id: EDID profile identifier.\n            data: Raw EDID data as hex string.\n            description: Optional human-readable description.\n        \"\"\"\n        body: dict[str, str] = {\"id\": edid_id, \"data\": data}\n        if description:\n            body[\"description\"] = description\n        await self._post(\"/api/switch/edids/create\", json=body)\n\n    async def change_edid(self, port: str, edid_id: str) -&gt; None:\n        \"\"\"Change the EDID profile for a port.\n\n        Args:\n            port: Port identifier.\n            edid_id: EDID profile identifier to assign.\n        \"\"\"\n        await self._post(\n            \"/api/switch/edids/change\",\n            params={\"port\": port, \"edid_id\": edid_id},\n        )\n\n    async def remove_edid(self, edid_id: str) -&gt; None:\n        \"\"\"Remove an EDID profile.\n\n        Args:\n            edid_id: EDID profile identifier to remove.\n        \"\"\"\n        await self._post(\"/api/switch/edids/remove\", params={\"edid_id\": edid_id})\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get the current switch state.</p> <p>Returns:</p> Type Description <code>SwitchState</code> <p>Current switch state with active port and port list.</p> Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def get_state(self) -&gt; SwitchState:\n    \"\"\"Get the current switch state.\n\n    Returns:\n        Current switch state with active port and port list.\n    \"\"\"\n    result = await self._get(\"/api/switch\")\n    return SwitchState.model_validate(result)\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.set_active","title":"<code>set_active(port)</code>  <code>async</code>","text":"<p>Set the active port.</p> <p>Parameters:</p> Name Type Description Default <code>port</code> <code>str</code> <p>Port identifier to activate.</p> required Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def set_active(self, port: str) -&gt; None:\n    \"\"\"Set the active port.\n\n    Args:\n        port: Port identifier to activate.\n    \"\"\"\n    await self._post(\"/api/switch/set_active\", params={\"port\": port})\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.get_edids","title":"<code>get_edids()</code>  <code>async</code>","text":"<p>Get all EDID profiles.</p> <p>Returns:</p> Type Description <code>list[EDID]</code> <p>List of available EDID profiles.</p> Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def get_edids(self) -&gt; list[EDID]:\n    \"\"\"Get all EDID profiles.\n\n    Returns:\n        List of available EDID profiles.\n    \"\"\"\n    result = await self._get(\"/api/switch/edids\")\n    return [EDID.model_validate(e) for e in result.get(\"edids\", [])]\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.create_edid","title":"<code>create_edid(edid_id, data, *, description='')</code>  <code>async</code>","text":"<p>Create a new EDID profile.</p> <p>Parameters:</p> Name Type Description Default <code>edid_id</code> <code>str</code> <p>EDID profile identifier.</p> required <code>data</code> <code>str</code> <p>Raw EDID data as hex string.</p> required <code>description</code> <code>str</code> <p>Optional human-readable description.</p> <code>''</code> Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def create_edid(\n    self, edid_id: str, data: str, *, description: str = \"\"\n) -&gt; None:\n    \"\"\"Create a new EDID profile.\n\n    Args:\n        edid_id: EDID profile identifier.\n        data: Raw EDID data as hex string.\n        description: Optional human-readable description.\n    \"\"\"\n    body: dict[str, str] = {\"id\": edid_id, \"data\": data}\n    if description:\n        body[\"description\"] = description\n    await self._post(\"/api/switch/edids/create\", json=body)\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.change_edid","title":"<code>change_edid(port, edid_id)</code>  <code>async</code>","text":"<p>Change the EDID profile for a port.</p> <p>Parameters:</p> Name Type Description Default <code>port</code> <code>str</code> <p>Port identifier.</p> required <code>edid_id</code> <code>str</code> <p>EDID profile identifier to assign.</p> required Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def change_edid(self, port: str, edid_id: str) -&gt; None:\n    \"\"\"Change the EDID profile for a port.\n\n    Args:\n        port: Port identifier.\n        edid_id: EDID profile identifier to assign.\n    \"\"\"\n    await self._post(\n        \"/api/switch/edids/change\",\n        params={\"port\": port, \"edid_id\": edid_id},\n    )\n</code></pre>"},{"location":"reference/resources/switch/#aiopikvm.resources.switch.SwitchResource.remove_edid","title":"<code>remove_edid(edid_id)</code>  <code>async</code>","text":"<p>Remove an EDID profile.</p> <p>Parameters:</p> Name Type Description Default <code>edid_id</code> <code>str</code> <p>EDID profile identifier to remove.</p> required Source code in <code>src/aiopikvm/resources/switch.py</code> <pre><code>async def remove_edid(self, edid_id: str) -&gt; None:\n    \"\"\"Remove an EDID profile.\n\n    Args:\n        edid_id: EDID profile identifier to remove.\n    \"\"\"\n    await self._post(\"/api/switch/edids/remove\", params={\"edid_id\": edid_id})\n</code></pre>"}]}